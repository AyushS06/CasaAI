"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@radix-ui+react-form@0.1.7_@types+react-dom@18.3.7_@types+react@18.3.23__@types+react@1_217e25a3ed042703a06a6aa4f8372659";
exports.ids = ["vendor-chunks/@radix-ui+react-form@0.1.7_@types+react-dom@18.3.7_@types+react@18.3.23__@types+react@1_217e25a3ed042703a06a6aa4f8372659"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@radix-ui+react-form@0.1.7_@types+react-dom@18.3.7_@types+react@18.3.23__@types+react@1_217e25a3ed042703a06a6aa4f8372659/node_modules/@radix-ui/react-form/dist/index.mjs":
/*!******************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@radix-ui+react-form@0.1.7_@types+react-dom@18.3.7_@types+react@18.3.23__@types+react@1_217e25a3ed042703a06a6aa4f8372659/node_modules/@radix-ui/react-form/dist/index.mjs ***!
  \******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Control: () => (/* binding */ Control),\n/* harmony export */   Field: () => (/* binding */ Field),\n/* harmony export */   Form: () => (/* binding */ Form),\n/* harmony export */   FormControl: () => (/* binding */ FormControl),\n/* harmony export */   FormField: () => (/* binding */ FormField),\n/* harmony export */   FormLabel: () => (/* binding */ FormLabel),\n/* harmony export */   FormMessage: () => (/* binding */ FormMessage),\n/* harmony export */   FormSubmit: () => (/* binding */ FormSubmit),\n/* harmony export */   FormValidityState: () => (/* binding */ FormValidityState),\n/* harmony export */   Label: () => (/* binding */ Label),\n/* harmony export */   Message: () => (/* binding */ Message),\n/* harmony export */   Root: () => (/* binding */ Root),\n/* harmony export */   Submit: () => (/* binding */ Submit),\n/* harmony export */   ValidityState: () => (/* binding */ ValidityState),\n/* harmony export */   createFormScope: () => (/* binding */ createFormScope)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.0.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _radix_ui_primitive__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @radix-ui/primitive */ \"(ssr)/./node_modules/.pnpm/@radix-ui+primitive@1.1.2/node_modules/@radix-ui/primitive/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @radix-ui/react-compose-refs */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-compose-refs@1.1.2_@types+react@18.3.23_react@18.3.1/node_modules/@radix-ui/react-compose-refs/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @radix-ui/react-context */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-context@1.1.2_@types+react@18.3.23_react@18.3.1/node_modules/@radix-ui/react-context/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_id__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @radix-ui/react-id */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-id@1.1.1_@types+react@18.3.23_react@18.3.1/node_modules/@radix-ui/react-id/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_label__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @radix-ui/react-label */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-label@2.1.7_@types+react-dom@18.3.7_@types+react@18.3.23__@types+react@_69050205ca3d2aecc0d76a03e1b44443/node_modules/@radix-ui/react-label/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @radix-ui/react-primitive */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-primitive@2.1.3_@types+react-dom@18.3.7_@types+react@18.3.23__@types+re_db0ee435667e42f4b05fd5a9bb21abc3/node_modules/@radix-ui/react-primitive/dist/index.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/.pnpm/next@14.0.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n\"use client\";\n\n// src/form.tsx\n\n\n\n\n\n\n\n\nvar [createFormContext, createFormScope] = (0,_radix_ui_react_context__WEBPACK_IMPORTED_MODULE_2__.createContextScope)(\"Form\");\nvar FORM_NAME = \"Form\";\nvar [ValidationProvider, useValidationContext] = createFormContext(FORM_NAME);\nvar [AriaDescriptionProvider, useAriaDescriptionContext] = createFormContext(FORM_NAME);\nvar Form = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeForm, onClearServerErrors = () => {\n    }, ...rootProps } = props;\n    const formRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const composedFormRef = (0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_3__.useComposedRefs)(forwardedRef, formRef);\n    const [validityMap, setValidityMap] = react__WEBPACK_IMPORTED_MODULE_0__.useState({});\n    const getFieldValidity = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n      (fieldName) => validityMap[fieldName],\n      [validityMap]\n    );\n    const handleFieldValidityChange = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n      (fieldName, validity) => setValidityMap((prevValidityMap) => ({\n        ...prevValidityMap,\n        [fieldName]: { ...prevValidityMap[fieldName] ?? {}, ...validity }\n      })),\n      []\n    );\n    const handleFieldValiditionClear = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((fieldName) => {\n      setValidityMap((prevValidityMap) => ({ ...prevValidityMap, [fieldName]: void 0 }));\n      setCustomErrorsMap((prevCustomErrorsMap) => ({ ...prevCustomErrorsMap, [fieldName]: {} }));\n    }, []);\n    const [customMatcherEntriesMap, setCustomMatcherEntriesMap] = react__WEBPACK_IMPORTED_MODULE_0__.useState({});\n    const getFieldCustomMatcherEntries = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n      (fieldName) => customMatcherEntriesMap[fieldName] ?? [],\n      [customMatcherEntriesMap]\n    );\n    const handleFieldCustomMatcherAdd = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((fieldName, matcherEntry) => {\n      setCustomMatcherEntriesMap((prevCustomMatcherEntriesMap) => ({\n        ...prevCustomMatcherEntriesMap,\n        [fieldName]: [...prevCustomMatcherEntriesMap[fieldName] ?? [], matcherEntry]\n      }));\n    }, []);\n    const handleFieldCustomMatcherRemove = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((fieldName, matcherEntryId) => {\n      setCustomMatcherEntriesMap((prevCustomMatcherEntriesMap) => ({\n        ...prevCustomMatcherEntriesMap,\n        [fieldName]: (prevCustomMatcherEntriesMap[fieldName] ?? []).filter(\n          (matcherEntry) => matcherEntry.id !== matcherEntryId\n        )\n      }));\n    }, []);\n    const [customErrorsMap, setCustomErrorsMap] = react__WEBPACK_IMPORTED_MODULE_0__.useState({});\n    const getFieldCustomErrors = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n      (fieldName) => customErrorsMap[fieldName] ?? {},\n      [customErrorsMap]\n    );\n    const handleFieldCustomErrorsChange = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((fieldName, customErrors) => {\n      setCustomErrorsMap((prevCustomErrorsMap) => ({\n        ...prevCustomErrorsMap,\n        [fieldName]: { ...prevCustomErrorsMap[fieldName] ?? {}, ...customErrors }\n      }));\n    }, []);\n    const [messageIdsMap, setMessageIdsMap] = react__WEBPACK_IMPORTED_MODULE_0__.useState({});\n    const handleFieldMessageIdAdd = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((fieldName, id) => {\n      setMessageIdsMap((prevMessageIdsMap) => {\n        const fieldDescriptionIds = new Set(prevMessageIdsMap[fieldName]).add(id);\n        return { ...prevMessageIdsMap, [fieldName]: fieldDescriptionIds };\n      });\n    }, []);\n    const handleFieldMessageIdRemove = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((fieldName, id) => {\n      setMessageIdsMap((prevMessageIdsMap) => {\n        const fieldDescriptionIds = new Set(prevMessageIdsMap[fieldName]);\n        fieldDescriptionIds.delete(id);\n        return { ...prevMessageIdsMap, [fieldName]: fieldDescriptionIds };\n      });\n    }, []);\n    const getFieldDescription = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n      (fieldName) => Array.from(messageIdsMap[fieldName] ?? []).join(\" \") || void 0,\n      [messageIdsMap]\n    );\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      ValidationProvider,\n      {\n        scope: __scopeForm,\n        getFieldValidity,\n        onFieldValidityChange: handleFieldValidityChange,\n        getFieldCustomMatcherEntries,\n        onFieldCustomMatcherEntryAdd: handleFieldCustomMatcherAdd,\n        onFieldCustomMatcherEntryRemove: handleFieldCustomMatcherRemove,\n        getFieldCustomErrors,\n        onFieldCustomErrorsChange: handleFieldCustomErrorsChange,\n        onFieldValiditionClear: handleFieldValiditionClear,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n          AriaDescriptionProvider,\n          {\n            scope: __scopeForm,\n            onFieldMessageIdAdd: handleFieldMessageIdAdd,\n            onFieldMessageIdRemove: handleFieldMessageIdRemove,\n            getFieldDescription,\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n              _radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_4__.Primitive.form,\n              {\n                ...rootProps,\n                ref: composedFormRef,\n                onInvalid: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_5__.composeEventHandlers)(props.onInvalid, (event) => {\n                  const firstInvalidControl = getFirstInvalidControl(event.currentTarget);\n                  if (firstInvalidControl === event.target) firstInvalidControl.focus();\n                  event.preventDefault();\n                }),\n                onSubmit: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_5__.composeEventHandlers)(props.onSubmit, onClearServerErrors, {\n                  checkForDefaultPrevented: false\n                }),\n                onReset: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_5__.composeEventHandlers)(props.onReset, onClearServerErrors)\n              }\n            )\n          }\n        )\n      }\n    );\n  }\n);\nForm.displayName = FORM_NAME;\nvar FIELD_NAME = \"FormField\";\nvar [FormFieldProvider, useFormFieldContext] = createFormContext(FIELD_NAME);\nvar FormField = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeForm, name, serverInvalid = false, ...fieldProps } = props;\n    const validationContext = useValidationContext(FIELD_NAME, __scopeForm);\n    const validity = validationContext.getFieldValidity(name);\n    const id = (0,_radix_ui_react_id__WEBPACK_IMPORTED_MODULE_6__.useId)();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(FormFieldProvider, { scope: __scopeForm, id, name, serverInvalid, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      _radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_4__.Primitive.div,\n      {\n        \"data-valid\": getValidAttribute(validity, serverInvalid),\n        \"data-invalid\": getInvalidAttribute(validity, serverInvalid),\n        ...fieldProps,\n        ref: forwardedRef\n      }\n    ) });\n  }\n);\nFormField.displayName = FIELD_NAME;\nvar LABEL_NAME = \"FormLabel\";\nvar FormLabel = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeForm, ...labelProps } = props;\n    const validationContext = useValidationContext(LABEL_NAME, __scopeForm);\n    const fieldContext = useFormFieldContext(LABEL_NAME, __scopeForm);\n    const htmlFor = labelProps.htmlFor || fieldContext.id;\n    const validity = validationContext.getFieldValidity(fieldContext.name);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      _radix_ui_react_label__WEBPACK_IMPORTED_MODULE_7__.Label,\n      {\n        \"data-valid\": getValidAttribute(validity, fieldContext.serverInvalid),\n        \"data-invalid\": getInvalidAttribute(validity, fieldContext.serverInvalid),\n        ...labelProps,\n        ref: forwardedRef,\n        htmlFor\n      }\n    );\n  }\n);\nFormLabel.displayName = LABEL_NAME;\nvar CONTROL_NAME = \"FormControl\";\nvar FormControl = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeForm, ...controlProps } = props;\n    const validationContext = useValidationContext(CONTROL_NAME, __scopeForm);\n    const fieldContext = useFormFieldContext(CONTROL_NAME, __scopeForm);\n    const ariaDescriptionContext = useAriaDescriptionContext(CONTROL_NAME, __scopeForm);\n    const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const composedRef = (0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_3__.useComposedRefs)(forwardedRef, ref);\n    const name = controlProps.name || fieldContext.name;\n    const id = controlProps.id || fieldContext.id;\n    const customMatcherEntries = validationContext.getFieldCustomMatcherEntries(name);\n    const { onFieldValidityChange, onFieldCustomErrorsChange, onFieldValiditionClear } = validationContext;\n    const updateControlValidity = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n      async (control) => {\n        if (hasBuiltInError(control.validity)) {\n          const controlValidity2 = validityStateToObject(control.validity);\n          onFieldValidityChange(name, controlValidity2);\n          return;\n        }\n        const formData = control.form ? new FormData(control.form) : new FormData();\n        const matcherArgs = [control.value, formData];\n        const syncCustomMatcherEntries = [];\n        const ayncCustomMatcherEntries = [];\n        customMatcherEntries.forEach((customMatcherEntry) => {\n          if (isAsyncCustomMatcherEntry(customMatcherEntry, matcherArgs)) {\n            ayncCustomMatcherEntries.push(customMatcherEntry);\n          } else if (isSyncCustomMatcherEntry(customMatcherEntry)) {\n            syncCustomMatcherEntries.push(customMatcherEntry);\n          }\n        });\n        const syncCustomErrors = syncCustomMatcherEntries.map(({ id: id2, match }) => {\n          return [id2, match(...matcherArgs)];\n        });\n        const syncCustomErrorsById = Object.fromEntries(syncCustomErrors);\n        const hasSyncCustomErrors = Object.values(syncCustomErrorsById).some(Boolean);\n        const hasCustomError = hasSyncCustomErrors;\n        control.setCustomValidity(hasCustomError ? DEFAULT_INVALID_MESSAGE : \"\");\n        const controlValidity = validityStateToObject(control.validity);\n        onFieldValidityChange(name, controlValidity);\n        onFieldCustomErrorsChange(name, syncCustomErrorsById);\n        if (!hasSyncCustomErrors && ayncCustomMatcherEntries.length > 0) {\n          const promisedCustomErrors = ayncCustomMatcherEntries.map(\n            ({ id: id2, match }) => match(...matcherArgs).then((matches) => [id2, matches])\n          );\n          const asyncCustomErrors = await Promise.all(promisedCustomErrors);\n          const asyncCustomErrorsById = Object.fromEntries(asyncCustomErrors);\n          const hasAsyncCustomErrors = Object.values(asyncCustomErrorsById).some(Boolean);\n          const hasCustomError2 = hasAsyncCustomErrors;\n          control.setCustomValidity(hasCustomError2 ? DEFAULT_INVALID_MESSAGE : \"\");\n          const controlValidity2 = validityStateToObject(control.validity);\n          onFieldValidityChange(name, controlValidity2);\n          onFieldCustomErrorsChange(name, asyncCustomErrorsById);\n        }\n      },\n      [customMatcherEntries, name, onFieldCustomErrorsChange, onFieldValidityChange]\n    );\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      const control = ref.current;\n      if (control) {\n        const handleChange = () => updateControlValidity(control);\n        control.addEventListener(\"change\", handleChange);\n        return () => control.removeEventListener(\"change\", handleChange);\n      }\n    }, [updateControlValidity]);\n    const resetControlValidity = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n      const control = ref.current;\n      if (control) {\n        control.setCustomValidity(\"\");\n        onFieldValiditionClear(name);\n      }\n    }, [name, onFieldValiditionClear]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      const form = ref.current?.form;\n      if (form) {\n        form.addEventListener(\"reset\", resetControlValidity);\n        return () => form.removeEventListener(\"reset\", resetControlValidity);\n      }\n    }, [resetControlValidity]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      const control = ref.current;\n      const form = control?.closest(\"form\");\n      if (form && fieldContext.serverInvalid) {\n        const firstInvalidControl = getFirstInvalidControl(form);\n        if (firstInvalidControl === control) firstInvalidControl.focus();\n      }\n    }, [fieldContext.serverInvalid]);\n    const validity = validationContext.getFieldValidity(name);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      _radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_4__.Primitive.input,\n      {\n        \"data-valid\": getValidAttribute(validity, fieldContext.serverInvalid),\n        \"data-invalid\": getInvalidAttribute(validity, fieldContext.serverInvalid),\n        \"aria-invalid\": fieldContext.serverInvalid ? true : void 0,\n        \"aria-describedby\": ariaDescriptionContext.getFieldDescription(name),\n        title: \"\",\n        ...controlProps,\n        ref: composedRef,\n        id,\n        name,\n        onInvalid: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_5__.composeEventHandlers)(props.onInvalid, (event) => {\n          const control = event.currentTarget;\n          updateControlValidity(control);\n        }),\n        onChange: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_5__.composeEventHandlers)(props.onChange, (_event) => {\n          resetControlValidity();\n        })\n      }\n    );\n  }\n);\nFormControl.displayName = CONTROL_NAME;\nvar DEFAULT_INVALID_MESSAGE = \"This value is not valid\";\nvar DEFAULT_BUILT_IN_MESSAGES = {\n  badInput: DEFAULT_INVALID_MESSAGE,\n  patternMismatch: \"This value does not match the required pattern\",\n  rangeOverflow: \"This value is too large\",\n  rangeUnderflow: \"This value is too small\",\n  stepMismatch: \"This value does not match the required step\",\n  tooLong: \"This value is too long\",\n  tooShort: \"This value is too short\",\n  typeMismatch: \"This value does not match the required type\",\n  valid: void 0,\n  valueMissing: \"This value is missing\"\n};\nvar MESSAGE_NAME = \"FormMessage\";\nvar FormMessage = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  (props, forwardedRef) => {\n    const { match, name: nameProp, ...messageProps } = props;\n    const fieldContext = useFormFieldContext(MESSAGE_NAME, props.__scopeForm);\n    const name = nameProp ?? fieldContext.name;\n    if (match === void 0) {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(FormMessageImpl, { ...messageProps, ref: forwardedRef, name, children: props.children || DEFAULT_INVALID_MESSAGE });\n    } else if (typeof match === \"function\") {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(FormCustomMessage, { match, ...messageProps, ref: forwardedRef, name });\n    } else {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(FormBuiltInMessage, { match, ...messageProps, ref: forwardedRef, name });\n    }\n  }\n);\nFormMessage.displayName = MESSAGE_NAME;\nvar FormBuiltInMessage = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  (props, forwardedRef) => {\n    const { match, forceMatch = false, name, children, ...messageProps } = props;\n    const validationContext = useValidationContext(MESSAGE_NAME, messageProps.__scopeForm);\n    const validity = validationContext.getFieldValidity(name);\n    const matches = forceMatch || validity?.[match];\n    if (matches) {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(FormMessageImpl, { ref: forwardedRef, ...messageProps, name, children: children ?? DEFAULT_BUILT_IN_MESSAGES[match] });\n    }\n    return null;\n  }\n);\nvar FormCustomMessage = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  (props, forwardedRef) => {\n    const { match, forceMatch = false, name, id: idProp, children, ...messageProps } = props;\n    const validationContext = useValidationContext(MESSAGE_NAME, messageProps.__scopeForm);\n    const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const composedRef = (0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_3__.useComposedRefs)(forwardedRef, ref);\n    const _id = (0,_radix_ui_react_id__WEBPACK_IMPORTED_MODULE_6__.useId)();\n    const id = idProp ?? _id;\n    const customMatcherEntry = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({ id, match }), [id, match]);\n    const { onFieldCustomMatcherEntryAdd, onFieldCustomMatcherEntryRemove } = validationContext;\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      onFieldCustomMatcherEntryAdd(name, customMatcherEntry);\n      return () => onFieldCustomMatcherEntryRemove(name, customMatcherEntry.id);\n    }, [customMatcherEntry, name, onFieldCustomMatcherEntryAdd, onFieldCustomMatcherEntryRemove]);\n    const validity = validationContext.getFieldValidity(name);\n    const customErrors = validationContext.getFieldCustomErrors(name);\n    const hasMatchingCustomError = customErrors[id];\n    const matches = forceMatch || validity && !hasBuiltInError(validity) && hasMatchingCustomError;\n    if (matches) {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(FormMessageImpl, { id, ref: composedRef, ...messageProps, name, children: children ?? DEFAULT_INVALID_MESSAGE });\n    }\n    return null;\n  }\n);\nvar FormMessageImpl = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeForm, id: idProp, name, ...messageProps } = props;\n    const ariaDescriptionContext = useAriaDescriptionContext(MESSAGE_NAME, __scopeForm);\n    const _id = (0,_radix_ui_react_id__WEBPACK_IMPORTED_MODULE_6__.useId)();\n    const id = idProp ?? _id;\n    const { onFieldMessageIdAdd, onFieldMessageIdRemove } = ariaDescriptionContext;\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      onFieldMessageIdAdd(name, id);\n      return () => onFieldMessageIdRemove(name, id);\n    }, [name, id, onFieldMessageIdAdd, onFieldMessageIdRemove]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_4__.Primitive.span, { id, ...messageProps, ref: forwardedRef });\n  }\n);\nvar VALIDITY_STATE_NAME = \"FormValidityState\";\nvar FormValidityState = (props) => {\n  const { __scopeForm, name: nameProp, children } = props;\n  const validationContext = useValidationContext(VALIDITY_STATE_NAME, __scopeForm);\n  const fieldContext = useFormFieldContext(VALIDITY_STATE_NAME, __scopeForm);\n  const name = nameProp ?? fieldContext.name;\n  const validity = validationContext.getFieldValidity(name);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: children(validity) });\n};\nFormValidityState.displayName = VALIDITY_STATE_NAME;\nvar SUBMIT_NAME = \"FormSubmit\";\nvar FormSubmit = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeForm, ...submitProps } = props;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_4__.Primitive.button, { type: \"submit\", ...submitProps, ref: forwardedRef });\n  }\n);\nFormSubmit.displayName = SUBMIT_NAME;\nfunction validityStateToObject(validity) {\n  const object = {};\n  for (const key in validity) {\n    object[key] = validity[key];\n  }\n  return object;\n}\nfunction isHTMLElement(element) {\n  return element instanceof HTMLElement;\n}\nfunction isFormControl(element) {\n  return \"validity\" in element;\n}\nfunction isInvalid(control) {\n  return isFormControl(control) && (control.validity.valid === false || control.getAttribute(\"aria-invalid\") === \"true\");\n}\nfunction getFirstInvalidControl(form) {\n  const elements = form.elements;\n  const [firstInvalidControl] = Array.from(elements).filter(isHTMLElement).filter(isInvalid);\n  return firstInvalidControl;\n}\nfunction isAsyncCustomMatcherEntry(entry, args) {\n  return entry.match.constructor.name === \"AsyncFunction\" || returnsPromise(entry.match, args);\n}\nfunction isSyncCustomMatcherEntry(entry) {\n  return entry.match.constructor.name === \"Function\";\n}\nfunction returnsPromise(func, args) {\n  return func(...args) instanceof Promise;\n}\nfunction hasBuiltInError(validity) {\n  let error = false;\n  for (const validityKey in validity) {\n    const key = validityKey;\n    if (key !== \"valid\" && key !== \"customError\" && validity[key]) {\n      error = true;\n      break;\n    }\n  }\n  return error;\n}\nfunction getValidAttribute(validity, serverInvalid) {\n  if (validity?.valid === true && !serverInvalid) return true;\n  return void 0;\n}\nfunction getInvalidAttribute(validity, serverInvalid) {\n  if (validity?.valid === false || serverInvalid) return true;\n  return void 0;\n}\nvar Root = Form;\nvar Field = FormField;\nvar Label = FormLabel;\nvar Control = FormControl;\nvar Message = FormMessage;\nvar ValidityState = FormValidityState;\nvar Submit = FormSubmit;\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJhZGl4LXVpK3JlYWN0LWZvcm1AMC4xLjdfQHR5cGVzK3JlYWN0LWRvbUAxOC4zLjdfQHR5cGVzK3JlYWN0QDE4LjMuMjNfX0B0eXBlcytyZWFjdEAxXzIxN2UyNWEzZWQwNDI3MDNhMDZhNmFhNGY4MzcyNjU5L25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtZm9ybS9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUVBO0FBQytCO0FBQzRCO0FBQ0k7QUFDRjtBQUNsQjtBQUNxQjtBQUNWO0FBQ0o7QUFDbEQsMkNBQTJDLDJFQUFrQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQSxXQUFXLDZDQUFnQjtBQUMzQjtBQUNBLFlBQVk7QUFDWixLQUFLLGlCQUFpQjtBQUN0QixvQkFBb0IseUNBQVk7QUFDaEMsNEJBQTRCLDZFQUFlO0FBQzNDLDBDQUEwQywyQ0FBYyxHQUFHO0FBQzNELDZCQUE2Qiw4Q0FBaUI7QUFDOUM7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLDhDQUFpQjtBQUN2RDtBQUNBO0FBQ0EsdUJBQXVCLG1DQUFtQztBQUMxRCxPQUFPO0FBQ1A7QUFDQTtBQUNBLHVDQUF1Qyw4Q0FBaUI7QUFDeEQsNkNBQTZDLHlDQUF5QztBQUN0RixxREFBcUQseUNBQXlDO0FBQzlGLEtBQUs7QUFDTCxrRUFBa0UsMkNBQWMsR0FBRztBQUNuRix5Q0FBeUMsOENBQWlCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyw4Q0FBaUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCwyQ0FBMkMsOENBQWlCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLGtEQUFrRCwyQ0FBYyxHQUFHO0FBQ25FLGlDQUFpQyw4Q0FBaUI7QUFDbEQscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQSwwQ0FBMEMsOENBQWlC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QjtBQUNqQztBQUNBLFlBQVksOEJBQThCO0FBQzFDLDJCQUEyQixzREFBRyxDQUFDLGdFQUFTLFdBQVcsbURBQW1EO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFpQkU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2Nhc2FhaS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmFkaXgtdWkrcmVhY3QtZm9ybUAwLjEuN19AdHlwZXMrcmVhY3QtZG9tQDE4LjMuN19AdHlwZXMrcmVhY3RAMTguMy4yM19fQHR5cGVzK3JlYWN0QDFfMjE3ZTI1YTNlZDA0MjcwM2EwNmE2YWE0ZjgzNzI2NTkvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9yZWFjdC1mb3JtL2Rpc3QvaW5kZXgubWpzP2NkMDQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbi8vIHNyYy9mb3JtLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjb21wb3NlRXZlbnRIYW5kbGVycyB9IGZyb20gXCJAcmFkaXgtdWkvcHJpbWl0aXZlXCI7XG5pbXBvcnQgeyB1c2VDb21wb3NlZFJlZnMgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWNvbXBvc2UtcmVmc1wiO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dFNjb3BlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1jb250ZXh0XCI7XG5pbXBvcnQgeyB1c2VJZCB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtaWRcIjtcbmltcG9ydCB7IExhYmVsIGFzIExhYmVsUHJpbWl0aXZlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1sYWJlbFwiO1xuaW1wb3J0IHsgUHJpbWl0aXZlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wcmltaXRpdmVcIjtcbmltcG9ydCB7IEZyYWdtZW50LCBqc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBbY3JlYXRlRm9ybUNvbnRleHQsIGNyZWF0ZUZvcm1TY29wZV0gPSBjcmVhdGVDb250ZXh0U2NvcGUoXCJGb3JtXCIpO1xudmFyIEZPUk1fTkFNRSA9IFwiRm9ybVwiO1xudmFyIFtWYWxpZGF0aW9uUHJvdmlkZXIsIHVzZVZhbGlkYXRpb25Db250ZXh0XSA9IGNyZWF0ZUZvcm1Db250ZXh0KEZPUk1fTkFNRSk7XG52YXIgW0FyaWFEZXNjcmlwdGlvblByb3ZpZGVyLCB1c2VBcmlhRGVzY3JpcHRpb25Db250ZXh0XSA9IGNyZWF0ZUZvcm1Db250ZXh0KEZPUk1fTkFNRSk7XG52YXIgRm9ybSA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyBfX3Njb3BlRm9ybSwgb25DbGVhclNlcnZlckVycm9ycyA9ICgpID0+IHtcbiAgICB9LCAuLi5yb290UHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGZvcm1SZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgY29tcG9zZWRGb3JtUmVmID0gdXNlQ29tcG9zZWRSZWZzKGZvcndhcmRlZFJlZiwgZm9ybVJlZik7XG4gICAgY29uc3QgW3ZhbGlkaXR5TWFwLCBzZXRWYWxpZGl0eU1hcF0gPSBSZWFjdC51c2VTdGF0ZSh7fSk7XG4gICAgY29uc3QgZ2V0RmllbGRWYWxpZGl0eSA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgICAgKGZpZWxkTmFtZSkgPT4gdmFsaWRpdHlNYXBbZmllbGROYW1lXSxcbiAgICAgIFt2YWxpZGl0eU1hcF1cbiAgICApO1xuICAgIGNvbnN0IGhhbmRsZUZpZWxkVmFsaWRpdHlDaGFuZ2UgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAgIChmaWVsZE5hbWUsIHZhbGlkaXR5KSA9PiBzZXRWYWxpZGl0eU1hcCgocHJldlZhbGlkaXR5TWFwKSA9PiAoe1xuICAgICAgICAuLi5wcmV2VmFsaWRpdHlNYXAsXG4gICAgICAgIFtmaWVsZE5hbWVdOiB7IC4uLnByZXZWYWxpZGl0eU1hcFtmaWVsZE5hbWVdID8/IHt9LCAuLi52YWxpZGl0eSB9XG4gICAgICB9KSksXG4gICAgICBbXVxuICAgICk7XG4gICAgY29uc3QgaGFuZGxlRmllbGRWYWxpZGl0aW9uQ2xlYXIgPSBSZWFjdC51c2VDYWxsYmFjaygoZmllbGROYW1lKSA9PiB7XG4gICAgICBzZXRWYWxpZGl0eU1hcCgocHJldlZhbGlkaXR5TWFwKSA9PiAoeyAuLi5wcmV2VmFsaWRpdHlNYXAsIFtmaWVsZE5hbWVdOiB2b2lkIDAgfSkpO1xuICAgICAgc2V0Q3VzdG9tRXJyb3JzTWFwKChwcmV2Q3VzdG9tRXJyb3JzTWFwKSA9PiAoeyAuLi5wcmV2Q3VzdG9tRXJyb3JzTWFwLCBbZmllbGROYW1lXToge30gfSkpO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBbY3VzdG9tTWF0Y2hlckVudHJpZXNNYXAsIHNldEN1c3RvbU1hdGNoZXJFbnRyaWVzTWFwXSA9IFJlYWN0LnVzZVN0YXRlKHt9KTtcbiAgICBjb25zdCBnZXRGaWVsZEN1c3RvbU1hdGNoZXJFbnRyaWVzID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgICAoZmllbGROYW1lKSA9PiBjdXN0b21NYXRjaGVyRW50cmllc01hcFtmaWVsZE5hbWVdID8/IFtdLFxuICAgICAgW2N1c3RvbU1hdGNoZXJFbnRyaWVzTWFwXVxuICAgICk7XG4gICAgY29uc3QgaGFuZGxlRmllbGRDdXN0b21NYXRjaGVyQWRkID0gUmVhY3QudXNlQ2FsbGJhY2soKGZpZWxkTmFtZSwgbWF0Y2hlckVudHJ5KSA9PiB7XG4gICAgICBzZXRDdXN0b21NYXRjaGVyRW50cmllc01hcCgocHJldkN1c3RvbU1hdGNoZXJFbnRyaWVzTWFwKSA9PiAoe1xuICAgICAgICAuLi5wcmV2Q3VzdG9tTWF0Y2hlckVudHJpZXNNYXAsXG4gICAgICAgIFtmaWVsZE5hbWVdOiBbLi4ucHJldkN1c3RvbU1hdGNoZXJFbnRyaWVzTWFwW2ZpZWxkTmFtZV0gPz8gW10sIG1hdGNoZXJFbnRyeV1cbiAgICAgIH0pKTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgaGFuZGxlRmllbGRDdXN0b21NYXRjaGVyUmVtb3ZlID0gUmVhY3QudXNlQ2FsbGJhY2soKGZpZWxkTmFtZSwgbWF0Y2hlckVudHJ5SWQpID0+IHtcbiAgICAgIHNldEN1c3RvbU1hdGNoZXJFbnRyaWVzTWFwKChwcmV2Q3VzdG9tTWF0Y2hlckVudHJpZXNNYXApID0+ICh7XG4gICAgICAgIC4uLnByZXZDdXN0b21NYXRjaGVyRW50cmllc01hcCxcbiAgICAgICAgW2ZpZWxkTmFtZV06IChwcmV2Q3VzdG9tTWF0Y2hlckVudHJpZXNNYXBbZmllbGROYW1lXSA/PyBbXSkuZmlsdGVyKFxuICAgICAgICAgIChtYXRjaGVyRW50cnkpID0+IG1hdGNoZXJFbnRyeS5pZCAhPT0gbWF0Y2hlckVudHJ5SWRcbiAgICAgICAgKVxuICAgICAgfSkpO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBbY3VzdG9tRXJyb3JzTWFwLCBzZXRDdXN0b21FcnJvcnNNYXBdID0gUmVhY3QudXNlU3RhdGUoe30pO1xuICAgIGNvbnN0IGdldEZpZWxkQ3VzdG9tRXJyb3JzID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgICAoZmllbGROYW1lKSA9PiBjdXN0b21FcnJvcnNNYXBbZmllbGROYW1lXSA/PyB7fSxcbiAgICAgIFtjdXN0b21FcnJvcnNNYXBdXG4gICAgKTtcbiAgICBjb25zdCBoYW5kbGVGaWVsZEN1c3RvbUVycm9yc0NoYW5nZSA9IFJlYWN0LnVzZUNhbGxiYWNrKChmaWVsZE5hbWUsIGN1c3RvbUVycm9ycykgPT4ge1xuICAgICAgc2V0Q3VzdG9tRXJyb3JzTWFwKChwcmV2Q3VzdG9tRXJyb3JzTWFwKSA9PiAoe1xuICAgICAgICAuLi5wcmV2Q3VzdG9tRXJyb3JzTWFwLFxuICAgICAgICBbZmllbGROYW1lXTogeyAuLi5wcmV2Q3VzdG9tRXJyb3JzTWFwW2ZpZWxkTmFtZV0gPz8ge30sIC4uLmN1c3RvbUVycm9ycyB9XG4gICAgICB9KSk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IFttZXNzYWdlSWRzTWFwLCBzZXRNZXNzYWdlSWRzTWFwXSA9IFJlYWN0LnVzZVN0YXRlKHt9KTtcbiAgICBjb25zdCBoYW5kbGVGaWVsZE1lc3NhZ2VJZEFkZCA9IFJlYWN0LnVzZUNhbGxiYWNrKChmaWVsZE5hbWUsIGlkKSA9PiB7XG4gICAgICBzZXRNZXNzYWdlSWRzTWFwKChwcmV2TWVzc2FnZUlkc01hcCkgPT4ge1xuICAgICAgICBjb25zdCBmaWVsZERlc2NyaXB0aW9uSWRzID0gbmV3IFNldChwcmV2TWVzc2FnZUlkc01hcFtmaWVsZE5hbWVdKS5hZGQoaWQpO1xuICAgICAgICByZXR1cm4geyAuLi5wcmV2TWVzc2FnZUlkc01hcCwgW2ZpZWxkTmFtZV06IGZpZWxkRGVzY3JpcHRpb25JZHMgfTtcbiAgICAgIH0pO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBoYW5kbGVGaWVsZE1lc3NhZ2VJZFJlbW92ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKChmaWVsZE5hbWUsIGlkKSA9PiB7XG4gICAgICBzZXRNZXNzYWdlSWRzTWFwKChwcmV2TWVzc2FnZUlkc01hcCkgPT4ge1xuICAgICAgICBjb25zdCBmaWVsZERlc2NyaXB0aW9uSWRzID0gbmV3IFNldChwcmV2TWVzc2FnZUlkc01hcFtmaWVsZE5hbWVdKTtcbiAgICAgICAgZmllbGREZXNjcmlwdGlvbklkcy5kZWxldGUoaWQpO1xuICAgICAgICByZXR1cm4geyAuLi5wcmV2TWVzc2FnZUlkc01hcCwgW2ZpZWxkTmFtZV06IGZpZWxkRGVzY3JpcHRpb25JZHMgfTtcbiAgICAgIH0pO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBnZXRGaWVsZERlc2NyaXB0aW9uID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgICAoZmllbGROYW1lKSA9PiBBcnJheS5mcm9tKG1lc3NhZ2VJZHNNYXBbZmllbGROYW1lXSA/PyBbXSkuam9pbihcIiBcIikgfHwgdm9pZCAwLFxuICAgICAgW21lc3NhZ2VJZHNNYXBdXG4gICAgKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIFZhbGlkYXRpb25Qcm92aWRlcixcbiAgICAgIHtcbiAgICAgICAgc2NvcGU6IF9fc2NvcGVGb3JtLFxuICAgICAgICBnZXRGaWVsZFZhbGlkaXR5LFxuICAgICAgICBvbkZpZWxkVmFsaWRpdHlDaGFuZ2U6IGhhbmRsZUZpZWxkVmFsaWRpdHlDaGFuZ2UsXG4gICAgICAgIGdldEZpZWxkQ3VzdG9tTWF0Y2hlckVudHJpZXMsXG4gICAgICAgIG9uRmllbGRDdXN0b21NYXRjaGVyRW50cnlBZGQ6IGhhbmRsZUZpZWxkQ3VzdG9tTWF0Y2hlckFkZCxcbiAgICAgICAgb25GaWVsZEN1c3RvbU1hdGNoZXJFbnRyeVJlbW92ZTogaGFuZGxlRmllbGRDdXN0b21NYXRjaGVyUmVtb3ZlLFxuICAgICAgICBnZXRGaWVsZEN1c3RvbUVycm9ycyxcbiAgICAgICAgb25GaWVsZEN1c3RvbUVycm9yc0NoYW5nZTogaGFuZGxlRmllbGRDdXN0b21FcnJvcnNDaGFuZ2UsXG4gICAgICAgIG9uRmllbGRWYWxpZGl0aW9uQ2xlYXI6IGhhbmRsZUZpZWxkVmFsaWRpdGlvbkNsZWFyLFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBBcmlhRGVzY3JpcHRpb25Qcm92aWRlcixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzY29wZTogX19zY29wZUZvcm0sXG4gICAgICAgICAgICBvbkZpZWxkTWVzc2FnZUlkQWRkOiBoYW5kbGVGaWVsZE1lc3NhZ2VJZEFkZCxcbiAgICAgICAgICAgIG9uRmllbGRNZXNzYWdlSWRSZW1vdmU6IGhhbmRsZUZpZWxkTWVzc2FnZUlkUmVtb3ZlLFxuICAgICAgICAgICAgZ2V0RmllbGREZXNjcmlwdGlvbixcbiAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgICAgICBQcmltaXRpdmUuZm9ybSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC4uLnJvb3RQcm9wcyxcbiAgICAgICAgICAgICAgICByZWY6IGNvbXBvc2VkRm9ybVJlZixcbiAgICAgICAgICAgICAgICBvbkludmFsaWQ6IGNvbXBvc2VFdmVudEhhbmRsZXJzKHByb3BzLm9uSW52YWxpZCwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBmaXJzdEludmFsaWRDb250cm9sID0gZ2V0Rmlyc3RJbnZhbGlkQ29udHJvbChldmVudC5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgIGlmIChmaXJzdEludmFsaWRDb250cm9sID09PSBldmVudC50YXJnZXQpIGZpcnN0SW52YWxpZENvbnRyb2wuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgb25TdWJtaXQ6IGNvbXBvc2VFdmVudEhhbmRsZXJzKHByb3BzLm9uU3VibWl0LCBvbkNsZWFyU2VydmVyRXJyb3JzLCB7XG4gICAgICAgICAgICAgICAgICBjaGVja0ZvckRlZmF1bHRQcmV2ZW50ZWQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgb25SZXNldDogY29tcG9zZUV2ZW50SGFuZGxlcnMocHJvcHMub25SZXNldCwgb25DbGVhclNlcnZlckVycm9ycylcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgfVxuICAgICk7XG4gIH1cbik7XG5Gb3JtLmRpc3BsYXlOYW1lID0gRk9STV9OQU1FO1xudmFyIEZJRUxEX05BTUUgPSBcIkZvcm1GaWVsZFwiO1xudmFyIFtGb3JtRmllbGRQcm92aWRlciwgdXNlRm9ybUZpZWxkQ29udGV4dF0gPSBjcmVhdGVGb3JtQ29udGV4dChGSUVMRF9OQU1FKTtcbnZhciBGb3JtRmllbGQgPSBSZWFjdC5mb3J3YXJkUmVmKFxuICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHsgX19zY29wZUZvcm0sIG5hbWUsIHNlcnZlckludmFsaWQgPSBmYWxzZSwgLi4uZmllbGRQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgdmFsaWRhdGlvbkNvbnRleHQgPSB1c2VWYWxpZGF0aW9uQ29udGV4dChGSUVMRF9OQU1FLCBfX3Njb3BlRm9ybSk7XG4gICAgY29uc3QgdmFsaWRpdHkgPSB2YWxpZGF0aW9uQ29udGV4dC5nZXRGaWVsZFZhbGlkaXR5KG5hbWUpO1xuICAgIGNvbnN0IGlkID0gdXNlSWQoKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChGb3JtRmllbGRQcm92aWRlciwgeyBzY29wZTogX19zY29wZUZvcm0sIGlkLCBuYW1lLCBzZXJ2ZXJJbnZhbGlkLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIFByaW1pdGl2ZS5kaXYsXG4gICAgICB7XG4gICAgICAgIFwiZGF0YS12YWxpZFwiOiBnZXRWYWxpZEF0dHJpYnV0ZSh2YWxpZGl0eSwgc2VydmVySW52YWxpZCksXG4gICAgICAgIFwiZGF0YS1pbnZhbGlkXCI6IGdldEludmFsaWRBdHRyaWJ1dGUodmFsaWRpdHksIHNlcnZlckludmFsaWQpLFxuICAgICAgICAuLi5maWVsZFByb3BzLFxuICAgICAgICByZWY6IGZvcndhcmRlZFJlZlxuICAgICAgfVxuICAgICkgfSk7XG4gIH1cbik7XG5Gb3JtRmllbGQuZGlzcGxheU5hbWUgPSBGSUVMRF9OQU1FO1xudmFyIExBQkVMX05BTUUgPSBcIkZvcm1MYWJlbFwiO1xudmFyIEZvcm1MYWJlbCA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyBfX3Njb3BlRm9ybSwgLi4ubGFiZWxQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgdmFsaWRhdGlvbkNvbnRleHQgPSB1c2VWYWxpZGF0aW9uQ29udGV4dChMQUJFTF9OQU1FLCBfX3Njb3BlRm9ybSk7XG4gICAgY29uc3QgZmllbGRDb250ZXh0ID0gdXNlRm9ybUZpZWxkQ29udGV4dChMQUJFTF9OQU1FLCBfX3Njb3BlRm9ybSk7XG4gICAgY29uc3QgaHRtbEZvciA9IGxhYmVsUHJvcHMuaHRtbEZvciB8fCBmaWVsZENvbnRleHQuaWQ7XG4gICAgY29uc3QgdmFsaWRpdHkgPSB2YWxpZGF0aW9uQ29udGV4dC5nZXRGaWVsZFZhbGlkaXR5KGZpZWxkQ29udGV4dC5uYW1lKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIExhYmVsUHJpbWl0aXZlLFxuICAgICAge1xuICAgICAgICBcImRhdGEtdmFsaWRcIjogZ2V0VmFsaWRBdHRyaWJ1dGUodmFsaWRpdHksIGZpZWxkQ29udGV4dC5zZXJ2ZXJJbnZhbGlkKSxcbiAgICAgICAgXCJkYXRhLWludmFsaWRcIjogZ2V0SW52YWxpZEF0dHJpYnV0ZSh2YWxpZGl0eSwgZmllbGRDb250ZXh0LnNlcnZlckludmFsaWQpLFxuICAgICAgICAuLi5sYWJlbFByb3BzLFxuICAgICAgICByZWY6IGZvcndhcmRlZFJlZixcbiAgICAgICAgaHRtbEZvclxuICAgICAgfVxuICAgICk7XG4gIH1cbik7XG5Gb3JtTGFiZWwuZGlzcGxheU5hbWUgPSBMQUJFTF9OQU1FO1xudmFyIENPTlRST0xfTkFNRSA9IFwiRm9ybUNvbnRyb2xcIjtcbnZhciBGb3JtQ29udHJvbCA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyBfX3Njb3BlRm9ybSwgLi4uY29udHJvbFByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCB2YWxpZGF0aW9uQ29udGV4dCA9IHVzZVZhbGlkYXRpb25Db250ZXh0KENPTlRST0xfTkFNRSwgX19zY29wZUZvcm0pO1xuICAgIGNvbnN0IGZpZWxkQ29udGV4dCA9IHVzZUZvcm1GaWVsZENvbnRleHQoQ09OVFJPTF9OQU1FLCBfX3Njb3BlRm9ybSk7XG4gICAgY29uc3QgYXJpYURlc2NyaXB0aW9uQ29udGV4dCA9IHVzZUFyaWFEZXNjcmlwdGlvbkNvbnRleHQoQ09OVFJPTF9OQU1FLCBfX3Njb3BlRm9ybSk7XG4gICAgY29uc3QgcmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGNvbXBvc2VkUmVmID0gdXNlQ29tcG9zZWRSZWZzKGZvcndhcmRlZFJlZiwgcmVmKTtcbiAgICBjb25zdCBuYW1lID0gY29udHJvbFByb3BzLm5hbWUgfHwgZmllbGRDb250ZXh0Lm5hbWU7XG4gICAgY29uc3QgaWQgPSBjb250cm9sUHJvcHMuaWQgfHwgZmllbGRDb250ZXh0LmlkO1xuICAgIGNvbnN0IGN1c3RvbU1hdGNoZXJFbnRyaWVzID0gdmFsaWRhdGlvbkNvbnRleHQuZ2V0RmllbGRDdXN0b21NYXRjaGVyRW50cmllcyhuYW1lKTtcbiAgICBjb25zdCB7IG9uRmllbGRWYWxpZGl0eUNoYW5nZSwgb25GaWVsZEN1c3RvbUVycm9yc0NoYW5nZSwgb25GaWVsZFZhbGlkaXRpb25DbGVhciB9ID0gdmFsaWRhdGlvbkNvbnRleHQ7XG4gICAgY29uc3QgdXBkYXRlQ29udHJvbFZhbGlkaXR5ID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgICBhc3luYyAoY29udHJvbCkgPT4ge1xuICAgICAgICBpZiAoaGFzQnVpbHRJbkVycm9yKGNvbnRyb2wudmFsaWRpdHkpKSB7XG4gICAgICAgICAgY29uc3QgY29udHJvbFZhbGlkaXR5MiA9IHZhbGlkaXR5U3RhdGVUb09iamVjdChjb250cm9sLnZhbGlkaXR5KTtcbiAgICAgICAgICBvbkZpZWxkVmFsaWRpdHlDaGFuZ2UobmFtZSwgY29udHJvbFZhbGlkaXR5Mik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZvcm1EYXRhID0gY29udHJvbC5mb3JtID8gbmV3IEZvcm1EYXRhKGNvbnRyb2wuZm9ybSkgOiBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgY29uc3QgbWF0Y2hlckFyZ3MgPSBbY29udHJvbC52YWx1ZSwgZm9ybURhdGFdO1xuICAgICAgICBjb25zdCBzeW5jQ3VzdG9tTWF0Y2hlckVudHJpZXMgPSBbXTtcbiAgICAgICAgY29uc3QgYXluY0N1c3RvbU1hdGNoZXJFbnRyaWVzID0gW107XG4gICAgICAgIGN1c3RvbU1hdGNoZXJFbnRyaWVzLmZvckVhY2goKGN1c3RvbU1hdGNoZXJFbnRyeSkgPT4ge1xuICAgICAgICAgIGlmIChpc0FzeW5jQ3VzdG9tTWF0Y2hlckVudHJ5KGN1c3RvbU1hdGNoZXJFbnRyeSwgbWF0Y2hlckFyZ3MpKSB7XG4gICAgICAgICAgICBheW5jQ3VzdG9tTWF0Y2hlckVudHJpZXMucHVzaChjdXN0b21NYXRjaGVyRW50cnkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNTeW5jQ3VzdG9tTWF0Y2hlckVudHJ5KGN1c3RvbU1hdGNoZXJFbnRyeSkpIHtcbiAgICAgICAgICAgIHN5bmNDdXN0b21NYXRjaGVyRW50cmllcy5wdXNoKGN1c3RvbU1hdGNoZXJFbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc3luY0N1c3RvbUVycm9ycyA9IHN5bmNDdXN0b21NYXRjaGVyRW50cmllcy5tYXAoKHsgaWQ6IGlkMiwgbWF0Y2ggfSkgPT4ge1xuICAgICAgICAgIHJldHVybiBbaWQyLCBtYXRjaCguLi5tYXRjaGVyQXJncyldO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc3luY0N1c3RvbUVycm9yc0J5SWQgPSBPYmplY3QuZnJvbUVudHJpZXMoc3luY0N1c3RvbUVycm9ycyk7XG4gICAgICAgIGNvbnN0IGhhc1N5bmNDdXN0b21FcnJvcnMgPSBPYmplY3QudmFsdWVzKHN5bmNDdXN0b21FcnJvcnNCeUlkKS5zb21lKEJvb2xlYW4pO1xuICAgICAgICBjb25zdCBoYXNDdXN0b21FcnJvciA9IGhhc1N5bmNDdXN0b21FcnJvcnM7XG4gICAgICAgIGNvbnRyb2wuc2V0Q3VzdG9tVmFsaWRpdHkoaGFzQ3VzdG9tRXJyb3IgPyBERUZBVUxUX0lOVkFMSURfTUVTU0FHRSA6IFwiXCIpO1xuICAgICAgICBjb25zdCBjb250cm9sVmFsaWRpdHkgPSB2YWxpZGl0eVN0YXRlVG9PYmplY3QoY29udHJvbC52YWxpZGl0eSk7XG4gICAgICAgIG9uRmllbGRWYWxpZGl0eUNoYW5nZShuYW1lLCBjb250cm9sVmFsaWRpdHkpO1xuICAgICAgICBvbkZpZWxkQ3VzdG9tRXJyb3JzQ2hhbmdlKG5hbWUsIHN5bmNDdXN0b21FcnJvcnNCeUlkKTtcbiAgICAgICAgaWYgKCFoYXNTeW5jQ3VzdG9tRXJyb3JzICYmIGF5bmNDdXN0b21NYXRjaGVyRW50cmllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgcHJvbWlzZWRDdXN0b21FcnJvcnMgPSBheW5jQ3VzdG9tTWF0Y2hlckVudHJpZXMubWFwKFxuICAgICAgICAgICAgKHsgaWQ6IGlkMiwgbWF0Y2ggfSkgPT4gbWF0Y2goLi4ubWF0Y2hlckFyZ3MpLnRoZW4oKG1hdGNoZXMpID0+IFtpZDIsIG1hdGNoZXNdKVxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgYXN5bmNDdXN0b21FcnJvcnMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlZEN1c3RvbUVycm9ycyk7XG4gICAgICAgICAgY29uc3QgYXN5bmNDdXN0b21FcnJvcnNCeUlkID0gT2JqZWN0LmZyb21FbnRyaWVzKGFzeW5jQ3VzdG9tRXJyb3JzKTtcbiAgICAgICAgICBjb25zdCBoYXNBc3luY0N1c3RvbUVycm9ycyA9IE9iamVjdC52YWx1ZXMoYXN5bmNDdXN0b21FcnJvcnNCeUlkKS5zb21lKEJvb2xlYW4pO1xuICAgICAgICAgIGNvbnN0IGhhc0N1c3RvbUVycm9yMiA9IGhhc0FzeW5jQ3VzdG9tRXJyb3JzO1xuICAgICAgICAgIGNvbnRyb2wuc2V0Q3VzdG9tVmFsaWRpdHkoaGFzQ3VzdG9tRXJyb3IyID8gREVGQVVMVF9JTlZBTElEX01FU1NBR0UgOiBcIlwiKTtcbiAgICAgICAgICBjb25zdCBjb250cm9sVmFsaWRpdHkyID0gdmFsaWRpdHlTdGF0ZVRvT2JqZWN0KGNvbnRyb2wudmFsaWRpdHkpO1xuICAgICAgICAgIG9uRmllbGRWYWxpZGl0eUNoYW5nZShuYW1lLCBjb250cm9sVmFsaWRpdHkyKTtcbiAgICAgICAgICBvbkZpZWxkQ3VzdG9tRXJyb3JzQ2hhbmdlKG5hbWUsIGFzeW5jQ3VzdG9tRXJyb3JzQnlJZCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBbY3VzdG9tTWF0Y2hlckVudHJpZXMsIG5hbWUsIG9uRmllbGRDdXN0b21FcnJvcnNDaGFuZ2UsIG9uRmllbGRWYWxpZGl0eUNoYW5nZV1cbiAgICApO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBjb25zdCBjb250cm9sID0gcmVmLmN1cnJlbnQ7XG4gICAgICBpZiAoY29udHJvbCkge1xuICAgICAgICBjb25zdCBoYW5kbGVDaGFuZ2UgPSAoKSA9PiB1cGRhdGVDb250cm9sVmFsaWRpdHkoY29udHJvbCk7XG4gICAgICAgIGNvbnRyb2wuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBoYW5kbGVDaGFuZ2UpO1xuICAgICAgICByZXR1cm4gKCkgPT4gY29udHJvbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGhhbmRsZUNoYW5nZSk7XG4gICAgICB9XG4gICAgfSwgW3VwZGF0ZUNvbnRyb2xWYWxpZGl0eV0pO1xuICAgIGNvbnN0IHJlc2V0Q29udHJvbFZhbGlkaXR5ID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgY29uc3QgY29udHJvbCA9IHJlZi5jdXJyZW50O1xuICAgICAgaWYgKGNvbnRyb2wpIHtcbiAgICAgICAgY29udHJvbC5zZXRDdXN0b21WYWxpZGl0eShcIlwiKTtcbiAgICAgICAgb25GaWVsZFZhbGlkaXRpb25DbGVhcihuYW1lKTtcbiAgICAgIH1cbiAgICB9LCBbbmFtZSwgb25GaWVsZFZhbGlkaXRpb25DbGVhcl0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBjb25zdCBmb3JtID0gcmVmLmN1cnJlbnQ/LmZvcm07XG4gICAgICBpZiAoZm9ybSkge1xuICAgICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNldFwiLCByZXNldENvbnRyb2xWYWxpZGl0eSk7XG4gICAgICAgIHJldHVybiAoKSA9PiBmb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNldFwiLCByZXNldENvbnRyb2xWYWxpZGl0eSk7XG4gICAgICB9XG4gICAgfSwgW3Jlc2V0Q29udHJvbFZhbGlkaXR5XSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRyb2wgPSByZWYuY3VycmVudDtcbiAgICAgIGNvbnN0IGZvcm0gPSBjb250cm9sPy5jbG9zZXN0KFwiZm9ybVwiKTtcbiAgICAgIGlmIChmb3JtICYmIGZpZWxkQ29udGV4dC5zZXJ2ZXJJbnZhbGlkKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0SW52YWxpZENvbnRyb2wgPSBnZXRGaXJzdEludmFsaWRDb250cm9sKGZvcm0pO1xuICAgICAgICBpZiAoZmlyc3RJbnZhbGlkQ29udHJvbCA9PT0gY29udHJvbCkgZmlyc3RJbnZhbGlkQ29udHJvbC5mb2N1cygpO1xuICAgICAgfVxuICAgIH0sIFtmaWVsZENvbnRleHQuc2VydmVySW52YWxpZF0pO1xuICAgIGNvbnN0IHZhbGlkaXR5ID0gdmFsaWRhdGlvbkNvbnRleHQuZ2V0RmllbGRWYWxpZGl0eShuYW1lKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIFByaW1pdGl2ZS5pbnB1dCxcbiAgICAgIHtcbiAgICAgICAgXCJkYXRhLXZhbGlkXCI6IGdldFZhbGlkQXR0cmlidXRlKHZhbGlkaXR5LCBmaWVsZENvbnRleHQuc2VydmVySW52YWxpZCksXG4gICAgICAgIFwiZGF0YS1pbnZhbGlkXCI6IGdldEludmFsaWRBdHRyaWJ1dGUodmFsaWRpdHksIGZpZWxkQ29udGV4dC5zZXJ2ZXJJbnZhbGlkKSxcbiAgICAgICAgXCJhcmlhLWludmFsaWRcIjogZmllbGRDb250ZXh0LnNlcnZlckludmFsaWQgPyB0cnVlIDogdm9pZCAwLFxuICAgICAgICBcImFyaWEtZGVzY3JpYmVkYnlcIjogYXJpYURlc2NyaXB0aW9uQ29udGV4dC5nZXRGaWVsZERlc2NyaXB0aW9uKG5hbWUpLFxuICAgICAgICB0aXRsZTogXCJcIixcbiAgICAgICAgLi4uY29udHJvbFByb3BzLFxuICAgICAgICByZWY6IGNvbXBvc2VkUmVmLFxuICAgICAgICBpZCxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgb25JbnZhbGlkOiBjb21wb3NlRXZlbnRIYW5kbGVycyhwcm9wcy5vbkludmFsaWQsIChldmVudCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNvbnRyb2wgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgIHVwZGF0ZUNvbnRyb2xWYWxpZGl0eShjb250cm9sKTtcbiAgICAgICAgfSksXG4gICAgICAgIG9uQ2hhbmdlOiBjb21wb3NlRXZlbnRIYW5kbGVycyhwcm9wcy5vbkNoYW5nZSwgKF9ldmVudCkgPT4ge1xuICAgICAgICAgIHJlc2V0Q29udHJvbFZhbGlkaXR5KCk7XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgKTtcbiAgfVxuKTtcbkZvcm1Db250cm9sLmRpc3BsYXlOYW1lID0gQ09OVFJPTF9OQU1FO1xudmFyIERFRkFVTFRfSU5WQUxJRF9NRVNTQUdFID0gXCJUaGlzIHZhbHVlIGlzIG5vdCB2YWxpZFwiO1xudmFyIERFRkFVTFRfQlVJTFRfSU5fTUVTU0FHRVMgPSB7XG4gIGJhZElucHV0OiBERUZBVUxUX0lOVkFMSURfTUVTU0FHRSxcbiAgcGF0dGVybk1pc21hdGNoOiBcIlRoaXMgdmFsdWUgZG9lcyBub3QgbWF0Y2ggdGhlIHJlcXVpcmVkIHBhdHRlcm5cIixcbiAgcmFuZ2VPdmVyZmxvdzogXCJUaGlzIHZhbHVlIGlzIHRvbyBsYXJnZVwiLFxuICByYW5nZVVuZGVyZmxvdzogXCJUaGlzIHZhbHVlIGlzIHRvbyBzbWFsbFwiLFxuICBzdGVwTWlzbWF0Y2g6IFwiVGhpcyB2YWx1ZSBkb2VzIG5vdCBtYXRjaCB0aGUgcmVxdWlyZWQgc3RlcFwiLFxuICB0b29Mb25nOiBcIlRoaXMgdmFsdWUgaXMgdG9vIGxvbmdcIixcbiAgdG9vU2hvcnQ6IFwiVGhpcyB2YWx1ZSBpcyB0b28gc2hvcnRcIixcbiAgdHlwZU1pc21hdGNoOiBcIlRoaXMgdmFsdWUgZG9lcyBub3QgbWF0Y2ggdGhlIHJlcXVpcmVkIHR5cGVcIixcbiAgdmFsaWQ6IHZvaWQgMCxcbiAgdmFsdWVNaXNzaW5nOiBcIlRoaXMgdmFsdWUgaXMgbWlzc2luZ1wiXG59O1xudmFyIE1FU1NBR0VfTkFNRSA9IFwiRm9ybU1lc3NhZ2VcIjtcbnZhciBGb3JtTWVzc2FnZSA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyBtYXRjaCwgbmFtZTogbmFtZVByb3AsIC4uLm1lc3NhZ2VQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgZmllbGRDb250ZXh0ID0gdXNlRm9ybUZpZWxkQ29udGV4dChNRVNTQUdFX05BTUUsIHByb3BzLl9fc2NvcGVGb3JtKTtcbiAgICBjb25zdCBuYW1lID0gbmFtZVByb3AgPz8gZmllbGRDb250ZXh0Lm5hbWU7XG4gICAgaWYgKG1hdGNoID09PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KEZvcm1NZXNzYWdlSW1wbCwgeyAuLi5tZXNzYWdlUHJvcHMsIHJlZjogZm9yd2FyZGVkUmVmLCBuYW1lLCBjaGlsZHJlbjogcHJvcHMuY2hpbGRyZW4gfHwgREVGQVVMVF9JTlZBTElEX01FU1NBR0UgfSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbWF0Y2ggPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goRm9ybUN1c3RvbU1lc3NhZ2UsIHsgbWF0Y2gsIC4uLm1lc3NhZ2VQcm9wcywgcmVmOiBmb3J3YXJkZWRSZWYsIG5hbWUgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KEZvcm1CdWlsdEluTWVzc2FnZSwgeyBtYXRjaCwgLi4ubWVzc2FnZVByb3BzLCByZWY6IGZvcndhcmRlZFJlZiwgbmFtZSB9KTtcbiAgICB9XG4gIH1cbik7XG5Gb3JtTWVzc2FnZS5kaXNwbGF5TmFtZSA9IE1FU1NBR0VfTkFNRTtcbnZhciBGb3JtQnVpbHRJbk1lc3NhZ2UgPSBSZWFjdC5mb3J3YXJkUmVmKFxuICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHsgbWF0Y2gsIGZvcmNlTWF0Y2ggPSBmYWxzZSwgbmFtZSwgY2hpbGRyZW4sIC4uLm1lc3NhZ2VQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgdmFsaWRhdGlvbkNvbnRleHQgPSB1c2VWYWxpZGF0aW9uQ29udGV4dChNRVNTQUdFX05BTUUsIG1lc3NhZ2VQcm9wcy5fX3Njb3BlRm9ybSk7XG4gICAgY29uc3QgdmFsaWRpdHkgPSB2YWxpZGF0aW9uQ29udGV4dC5nZXRGaWVsZFZhbGlkaXR5KG5hbWUpO1xuICAgIGNvbnN0IG1hdGNoZXMgPSBmb3JjZU1hdGNoIHx8IHZhbGlkaXR5Py5bbWF0Y2hdO1xuICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChGb3JtTWVzc2FnZUltcGwsIHsgcmVmOiBmb3J3YXJkZWRSZWYsIC4uLm1lc3NhZ2VQcm9wcywgbmFtZSwgY2hpbGRyZW46IGNoaWxkcmVuID8/IERFRkFVTFRfQlVJTFRfSU5fTUVTU0FHRVNbbWF0Y2hdIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuKTtcbnZhciBGb3JtQ3VzdG9tTWVzc2FnZSA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyBtYXRjaCwgZm9yY2VNYXRjaCA9IGZhbHNlLCBuYW1lLCBpZDogaWRQcm9wLCBjaGlsZHJlbiwgLi4ubWVzc2FnZVByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCB2YWxpZGF0aW9uQ29udGV4dCA9IHVzZVZhbGlkYXRpb25Db250ZXh0KE1FU1NBR0VfTkFNRSwgbWVzc2FnZVByb3BzLl9fc2NvcGVGb3JtKTtcbiAgICBjb25zdCByZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgY29tcG9zZWRSZWYgPSB1c2VDb21wb3NlZFJlZnMoZm9yd2FyZGVkUmVmLCByZWYpO1xuICAgIGNvbnN0IF9pZCA9IHVzZUlkKCk7XG4gICAgY29uc3QgaWQgPSBpZFByb3AgPz8gX2lkO1xuICAgIGNvbnN0IGN1c3RvbU1hdGNoZXJFbnRyeSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gKHsgaWQsIG1hdGNoIH0pLCBbaWQsIG1hdGNoXSk7XG4gICAgY29uc3QgeyBvbkZpZWxkQ3VzdG9tTWF0Y2hlckVudHJ5QWRkLCBvbkZpZWxkQ3VzdG9tTWF0Y2hlckVudHJ5UmVtb3ZlIH0gPSB2YWxpZGF0aW9uQ29udGV4dDtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgb25GaWVsZEN1c3RvbU1hdGNoZXJFbnRyeUFkZChuYW1lLCBjdXN0b21NYXRjaGVyRW50cnkpO1xuICAgICAgcmV0dXJuICgpID0+IG9uRmllbGRDdXN0b21NYXRjaGVyRW50cnlSZW1vdmUobmFtZSwgY3VzdG9tTWF0Y2hlckVudHJ5LmlkKTtcbiAgICB9LCBbY3VzdG9tTWF0Y2hlckVudHJ5LCBuYW1lLCBvbkZpZWxkQ3VzdG9tTWF0Y2hlckVudHJ5QWRkLCBvbkZpZWxkQ3VzdG9tTWF0Y2hlckVudHJ5UmVtb3ZlXSk7XG4gICAgY29uc3QgdmFsaWRpdHkgPSB2YWxpZGF0aW9uQ29udGV4dC5nZXRGaWVsZFZhbGlkaXR5KG5hbWUpO1xuICAgIGNvbnN0IGN1c3RvbUVycm9ycyA9IHZhbGlkYXRpb25Db250ZXh0LmdldEZpZWxkQ3VzdG9tRXJyb3JzKG5hbWUpO1xuICAgIGNvbnN0IGhhc01hdGNoaW5nQ3VzdG9tRXJyb3IgPSBjdXN0b21FcnJvcnNbaWRdO1xuICAgIGNvbnN0IG1hdGNoZXMgPSBmb3JjZU1hdGNoIHx8IHZhbGlkaXR5ICYmICFoYXNCdWlsdEluRXJyb3IodmFsaWRpdHkpICYmIGhhc01hdGNoaW5nQ3VzdG9tRXJyb3I7XG4gICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KEZvcm1NZXNzYWdlSW1wbCwgeyBpZCwgcmVmOiBjb21wb3NlZFJlZiwgLi4ubWVzc2FnZVByb3BzLCBuYW1lLCBjaGlsZHJlbjogY2hpbGRyZW4gPz8gREVGQVVMVF9JTlZBTElEX01FU1NBR0UgfSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4pO1xudmFyIEZvcm1NZXNzYWdlSW1wbCA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyBfX3Njb3BlRm9ybSwgaWQ6IGlkUHJvcCwgbmFtZSwgLi4ubWVzc2FnZVByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCBhcmlhRGVzY3JpcHRpb25Db250ZXh0ID0gdXNlQXJpYURlc2NyaXB0aW9uQ29udGV4dChNRVNTQUdFX05BTUUsIF9fc2NvcGVGb3JtKTtcbiAgICBjb25zdCBfaWQgPSB1c2VJZCgpO1xuICAgIGNvbnN0IGlkID0gaWRQcm9wID8/IF9pZDtcbiAgICBjb25zdCB7IG9uRmllbGRNZXNzYWdlSWRBZGQsIG9uRmllbGRNZXNzYWdlSWRSZW1vdmUgfSA9IGFyaWFEZXNjcmlwdGlvbkNvbnRleHQ7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIG9uRmllbGRNZXNzYWdlSWRBZGQobmFtZSwgaWQpO1xuICAgICAgcmV0dXJuICgpID0+IG9uRmllbGRNZXNzYWdlSWRSZW1vdmUobmFtZSwgaWQpO1xuICAgIH0sIFtuYW1lLCBpZCwgb25GaWVsZE1lc3NhZ2VJZEFkZCwgb25GaWVsZE1lc3NhZ2VJZFJlbW92ZV0pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFByaW1pdGl2ZS5zcGFuLCB7IGlkLCAuLi5tZXNzYWdlUHJvcHMsIHJlZjogZm9yd2FyZGVkUmVmIH0pO1xuICB9XG4pO1xudmFyIFZBTElESVRZX1NUQVRFX05BTUUgPSBcIkZvcm1WYWxpZGl0eVN0YXRlXCI7XG52YXIgRm9ybVZhbGlkaXR5U3RhdGUgPSAocHJvcHMpID0+IHtcbiAgY29uc3QgeyBfX3Njb3BlRm9ybSwgbmFtZTogbmFtZVByb3AsIGNoaWxkcmVuIH0gPSBwcm9wcztcbiAgY29uc3QgdmFsaWRhdGlvbkNvbnRleHQgPSB1c2VWYWxpZGF0aW9uQ29udGV4dChWQUxJRElUWV9TVEFURV9OQU1FLCBfX3Njb3BlRm9ybSk7XG4gIGNvbnN0IGZpZWxkQ29udGV4dCA9IHVzZUZvcm1GaWVsZENvbnRleHQoVkFMSURJVFlfU1RBVEVfTkFNRSwgX19zY29wZUZvcm0pO1xuICBjb25zdCBuYW1lID0gbmFtZVByb3AgPz8gZmllbGRDb250ZXh0Lm5hbWU7XG4gIGNvbnN0IHZhbGlkaXR5ID0gdmFsaWRhdGlvbkNvbnRleHQuZ2V0RmllbGRWYWxpZGl0eShuYW1lKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IGNoaWxkcmVuKHZhbGlkaXR5KSB9KTtcbn07XG5Gb3JtVmFsaWRpdHlTdGF0ZS5kaXNwbGF5TmFtZSA9IFZBTElESVRZX1NUQVRFX05BTUU7XG52YXIgU1VCTUlUX05BTUUgPSBcIkZvcm1TdWJtaXRcIjtcbnZhciBGb3JtU3VibWl0ID0gUmVhY3QuZm9yd2FyZFJlZihcbiAgKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7IF9fc2NvcGVGb3JtLCAuLi5zdWJtaXRQcm9wcyB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goUHJpbWl0aXZlLmJ1dHRvbiwgeyB0eXBlOiBcInN1Ym1pdFwiLCAuLi5zdWJtaXRQcm9wcywgcmVmOiBmb3J3YXJkZWRSZWYgfSk7XG4gIH1cbik7XG5Gb3JtU3VibWl0LmRpc3BsYXlOYW1lID0gU1VCTUlUX05BTUU7XG5mdW5jdGlvbiB2YWxpZGl0eVN0YXRlVG9PYmplY3QodmFsaWRpdHkpIHtcbiAgY29uc3Qgb2JqZWN0ID0ge307XG4gIGZvciAoY29uc3Qga2V5IGluIHZhbGlkaXR5KSB7XG4gICAgb2JqZWN0W2tleV0gPSB2YWxpZGl0eVtrZXldO1xuICB9XG4gIHJldHVybiBvYmplY3Q7XG59XG5mdW5jdGlvbiBpc0hUTUxFbGVtZW50KGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcbn1cbmZ1bmN0aW9uIGlzRm9ybUNvbnRyb2woZWxlbWVudCkge1xuICByZXR1cm4gXCJ2YWxpZGl0eVwiIGluIGVsZW1lbnQ7XG59XG5mdW5jdGlvbiBpc0ludmFsaWQoY29udHJvbCkge1xuICByZXR1cm4gaXNGb3JtQ29udHJvbChjb250cm9sKSAmJiAoY29udHJvbC52YWxpZGl0eS52YWxpZCA9PT0gZmFsc2UgfHwgY29udHJvbC5nZXRBdHRyaWJ1dGUoXCJhcmlhLWludmFsaWRcIikgPT09IFwidHJ1ZVwiKTtcbn1cbmZ1bmN0aW9uIGdldEZpcnN0SW52YWxpZENvbnRyb2woZm9ybSkge1xuICBjb25zdCBlbGVtZW50cyA9IGZvcm0uZWxlbWVudHM7XG4gIGNvbnN0IFtmaXJzdEludmFsaWRDb250cm9sXSA9IEFycmF5LmZyb20oZWxlbWVudHMpLmZpbHRlcihpc0hUTUxFbGVtZW50KS5maWx0ZXIoaXNJbnZhbGlkKTtcbiAgcmV0dXJuIGZpcnN0SW52YWxpZENvbnRyb2w7XG59XG5mdW5jdGlvbiBpc0FzeW5jQ3VzdG9tTWF0Y2hlckVudHJ5KGVudHJ5LCBhcmdzKSB7XG4gIHJldHVybiBlbnRyeS5tYXRjaC5jb25zdHJ1Y3Rvci5uYW1lID09PSBcIkFzeW5jRnVuY3Rpb25cIiB8fCByZXR1cm5zUHJvbWlzZShlbnRyeS5tYXRjaCwgYXJncyk7XG59XG5mdW5jdGlvbiBpc1N5bmNDdXN0b21NYXRjaGVyRW50cnkoZW50cnkpIHtcbiAgcmV0dXJuIGVudHJ5Lm1hdGNoLmNvbnN0cnVjdG9yLm5hbWUgPT09IFwiRnVuY3Rpb25cIjtcbn1cbmZ1bmN0aW9uIHJldHVybnNQcm9taXNlKGZ1bmMsIGFyZ3MpIHtcbiAgcmV0dXJuIGZ1bmMoLi4uYXJncykgaW5zdGFuY2VvZiBQcm9taXNlO1xufVxuZnVuY3Rpb24gaGFzQnVpbHRJbkVycm9yKHZhbGlkaXR5KSB7XG4gIGxldCBlcnJvciA9IGZhbHNlO1xuICBmb3IgKGNvbnN0IHZhbGlkaXR5S2V5IGluIHZhbGlkaXR5KSB7XG4gICAgY29uc3Qga2V5ID0gdmFsaWRpdHlLZXk7XG4gICAgaWYgKGtleSAhPT0gXCJ2YWxpZFwiICYmIGtleSAhPT0gXCJjdXN0b21FcnJvclwiICYmIHZhbGlkaXR5W2tleV0pIHtcbiAgICAgIGVycm9yID0gdHJ1ZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZXJyb3I7XG59XG5mdW5jdGlvbiBnZXRWYWxpZEF0dHJpYnV0ZSh2YWxpZGl0eSwgc2VydmVySW52YWxpZCkge1xuICBpZiAodmFsaWRpdHk/LnZhbGlkID09PSB0cnVlICYmICFzZXJ2ZXJJbnZhbGlkKSByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIHZvaWQgMDtcbn1cbmZ1bmN0aW9uIGdldEludmFsaWRBdHRyaWJ1dGUodmFsaWRpdHksIHNlcnZlckludmFsaWQpIHtcbiAgaWYgKHZhbGlkaXR5Py52YWxpZCA9PT0gZmFsc2UgfHwgc2VydmVySW52YWxpZCkgcmV0dXJuIHRydWU7XG4gIHJldHVybiB2b2lkIDA7XG59XG52YXIgUm9vdCA9IEZvcm07XG52YXIgRmllbGQgPSBGb3JtRmllbGQ7XG52YXIgTGFiZWwgPSBGb3JtTGFiZWw7XG52YXIgQ29udHJvbCA9IEZvcm1Db250cm9sO1xudmFyIE1lc3NhZ2UgPSBGb3JtTWVzc2FnZTtcbnZhciBWYWxpZGl0eVN0YXRlID0gRm9ybVZhbGlkaXR5U3RhdGU7XG52YXIgU3VibWl0ID0gRm9ybVN1Ym1pdDtcbmV4cG9ydCB7XG4gIENvbnRyb2wsXG4gIEZpZWxkLFxuICBGb3JtLFxuICBGb3JtQ29udHJvbCxcbiAgRm9ybUZpZWxkLFxuICBGb3JtTGFiZWwsXG4gIEZvcm1NZXNzYWdlLFxuICBGb3JtU3VibWl0LFxuICBGb3JtVmFsaWRpdHlTdGF0ZSxcbiAgTGFiZWwsXG4gIE1lc3NhZ2UsXG4gIFJvb3QsXG4gIFN1Ym1pdCxcbiAgVmFsaWRpdHlTdGF0ZSxcbiAgY3JlYXRlRm9ybVNjb3BlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@radix-ui+react-form@0.1.7_@types+react-dom@18.3.7_@types+react@18.3.23__@types+react@1_217e25a3ed042703a06a6aa4f8372659/node_modules/@radix-ui/react-form/dist/index.mjs\n");

/***/ })

};
;