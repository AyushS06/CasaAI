"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@radix-ui+react-one-time-password-field@0.1.7_@types+react-dom@18.3.7_@types+react@18.3_8af68039a3391767ca78e4bf99822036";
exports.ids = ["vendor-chunks/@radix-ui+react-one-time-password-field@0.1.7_@types+react-dom@18.3.7_@types+react@18.3_8af68039a3391767ca78e4bf99822036"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@radix-ui+react-one-time-password-field@0.1.7_@types+react-dom@18.3.7_@types+react@18.3_8af68039a3391767ca78e4bf99822036/node_modules/@radix-ui/react-one-time-password-field/dist/index.mjs":
/*!*************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@radix-ui+react-one-time-password-field@0.1.7_@types+react-dom@18.3.7_@types+react@18.3_8af68039a3391767ca78e4bf99822036/node_modules/@radix-ui/react-one-time-password-field/dist/index.mjs ***!
  \*************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HiddenInput: () => (/* binding */ OneTimePasswordFieldHiddenInput),\n/* harmony export */   Input: () => (/* binding */ OneTimePasswordFieldInput),\n/* harmony export */   OneTimePasswordField: () => (/* binding */ OneTimePasswordField),\n/* harmony export */   OneTimePasswordFieldHiddenInput: () => (/* binding */ OneTimePasswordFieldHiddenInput),\n/* harmony export */   OneTimePasswordFieldInput: () => (/* binding */ OneTimePasswordFieldInput),\n/* harmony export */   Root: () => (/* binding */ OneTimePasswordField)\n/* harmony export */ });\n/* harmony import */ var _radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @radix-ui/react-primitive */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-primitive@2.1.3_@types+react-dom@18.3.7_@types+react@18.3.23__@types+re_db0ee435667e42f4b05fd5a9bb21abc3/node_modules/@radix-ui/react-primitive/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @radix-ui/react-compose-refs */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-compose-refs@1.1.2_@types+react@18.3.23_react@18.3.1/node_modules/@radix-ui/react-compose-refs/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_use_controllable_state__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @radix-ui/react-use-controllable-state */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-use-controllable-state@1.2.2_@types+react@18.3.23_react@18.3.1/node_modules/@radix-ui/react-use-controllable-state/dist/index.mjs\");\n/* harmony import */ var _radix_ui_primitive__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @radix-ui/primitive */ \"(ssr)/./node_modules/.pnpm/@radix-ui+primitive@1.1.2/node_modules/@radix-ui/primitive/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_collection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @radix-ui/react-collection */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-collection@1.1.7_@types+react-dom@18.3.7_@types+react@18.3.23__@types+r_8ed47621286c24058c66cffcdce48db5/node_modules/@radix-ui/react-collection/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_roving_focus__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @radix-ui/react-roving-focus */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-roving-focus@1.1.10_@types+react-dom@18.3.7_@types+react@18.3.23__@type_6f0d671e87aca0440bc028a3a4162dc7/node_modules/@radix-ui/react-roving-focus/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_use_is_hydrated__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @radix-ui/react-use-is-hydrated */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-use-is-hydrated@0.1.0_@types+react@18.3.23_react@18.3.1/node_modules/@radix-ui/react-use-is-hydrated/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.0.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/.pnpm/next@14.0.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var _radix_ui_react_context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @radix-ui/react-context */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-context@1.1.2_@types+react@18.3.23_react@18.3.1/node_modules/@radix-ui/react-context/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_direction__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @radix-ui/react-direction */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-direction@1.1.1_@types+react@18.3.23_react@18.3.1/node_modules/@radix-ui/react-direction/dist/index.mjs\");\n/* harmony import */ var _radix_ui_number__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @radix-ui/number */ \"(ssr)/./node_modules/.pnpm/@radix-ui+number@1.1.1/node_modules/@radix-ui/number/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_use_effect_event__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @radix-ui/react-use-effect-event */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-use-effect-event@0.0.2_@types+react@18.3.23_react@18.3.1/node_modules/@radix-ui/react-use-effect-event/dist/index.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/.pnpm/next@14.0.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n\"use client\";\n\n// src/one-time-password-field.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar INPUT_VALIDATION_MAP = {\n  numeric: {\n    type: \"numeric\",\n    regexp: /[^\\d]/g,\n    pattern: \"\\\\d{1}\",\n    inputMode: \"numeric\"\n  },\n  alpha: {\n    type: \"alpha\",\n    regexp: /[^a-zA-Z]/g,\n    pattern: \"[a-zA-Z]{1}\",\n    inputMode: \"text\"\n  },\n  alphanumeric: {\n    type: \"alphanumeric\",\n    regexp: /[^a-zA-Z0-9]/g,\n    pattern: \"[a-zA-Z0-9]{1}\",\n    inputMode: \"text\"\n  },\n  none: null\n};\nvar ONE_TIME_PASSWORD_FIELD_NAME = \"OneTimePasswordField\";\nvar [Collection, { useCollection, createCollectionScope, useInitCollection }] = (0,_radix_ui_react_collection__WEBPACK_IMPORTED_MODULE_3__.unstable_createCollection)(ONE_TIME_PASSWORD_FIELD_NAME);\nvar [createOneTimePasswordFieldContext] = (0,_radix_ui_react_context__WEBPACK_IMPORTED_MODULE_4__.createContextScope)(ONE_TIME_PASSWORD_FIELD_NAME, [\n  createCollectionScope,\n  _radix_ui_react_roving_focus__WEBPACK_IMPORTED_MODULE_5__.createRovingFocusGroupScope\n]);\nvar useRovingFocusGroupScope = (0,_radix_ui_react_roving_focus__WEBPACK_IMPORTED_MODULE_5__.createRovingFocusGroupScope)();\nvar [OneTimePasswordFieldContext, useOneTimePasswordFieldContext] = createOneTimePasswordFieldContext(ONE_TIME_PASSWORD_FIELD_NAME);\nvar OneTimePasswordField = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function OneTimePasswordFieldImpl({\n    __scopeOneTimePasswordField,\n    defaultValue,\n    value: valueProp,\n    onValueChange,\n    autoSubmit = false,\n    children,\n    onPaste,\n    onAutoSubmit,\n    disabled = false,\n    readOnly = false,\n    autoComplete = \"one-time-code\",\n    autoFocus = false,\n    form,\n    name,\n    placeholder,\n    type = \"text\",\n    // TODO: Change default to vertical when inputs use vertical writing mode\n    orientation = \"horizontal\",\n    dir,\n    validationType = \"numeric\",\n    sanitizeValue: sanitizeValueProp,\n    ...domProps\n  }, forwardedRef) {\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeOneTimePasswordField);\n    const direction = (0,_radix_ui_react_direction__WEBPACK_IMPORTED_MODULE_6__.useDirection)(dir);\n    const collectionState = useInitCollection();\n    const [collection] = collectionState;\n    const validation = INPUT_VALIDATION_MAP[validationType] ? INPUT_VALIDATION_MAP[validationType] : null;\n    const sanitizeValue = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n      (value2) => {\n        if (Array.isArray(value2)) {\n          value2 = value2.map(removeWhitespace).join(\"\");\n        } else {\n          value2 = removeWhitespace(value2);\n        }\n        if (validation) {\n          const regexp = new RegExp(validation.regexp);\n          value2 = value2.replace(regexp, \"\");\n        } else if (sanitizeValueProp) {\n          value2 = sanitizeValueProp(value2);\n        }\n        return value2.split(\"\");\n      },\n      [validation, sanitizeValueProp]\n    );\n    const controlledValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n      return valueProp != null ? sanitizeValue(valueProp) : void 0;\n    }, [valueProp, sanitizeValue]);\n    const [value, setValue] = (0,_radix_ui_react_use_controllable_state__WEBPACK_IMPORTED_MODULE_7__.useControllableState)({\n      caller: \"OneTimePasswordField\",\n      prop: controlledValue,\n      defaultProp: defaultValue != null ? sanitizeValue(defaultValue) : [],\n      onChange: react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n        (value2) => onValueChange?.(value2.join(\"\")),\n        [onValueChange]\n      )\n    });\n    const dispatch = (0,_radix_ui_react_use_effect_event__WEBPACK_IMPORTED_MODULE_8__.useEffectEvent)((action) => {\n      switch (action.type) {\n        case \"SET_CHAR\": {\n          const { index, char } = action;\n          const currentTarget = collection.at(index)?.element;\n          if (value[index] === char) {\n            const next = currentTarget && collection.from(currentTarget, 1)?.element;\n            focusInput(next);\n            return;\n          }\n          if (char === \"\") {\n            return;\n          }\n          if (validation) {\n            const regexp = new RegExp(validation.regexp);\n            const clean = char.replace(regexp, \"\");\n            if (clean !== char) {\n              return;\n            }\n          }\n          if (value.length >= collection.size) {\n            const newValue2 = [...value];\n            newValue2[index] = char;\n            (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync)(() => setValue(newValue2));\n            const next = currentTarget && collection.from(currentTarget, 1)?.element;\n            focusInput(next);\n            return;\n          }\n          const newValue = [...value];\n          newValue[index] = char;\n          const lastElement = collection.at(-1)?.element;\n          (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync)(() => setValue(newValue));\n          if (currentTarget !== lastElement) {\n            const next = currentTarget && collection.from(currentTarget, 1)?.element;\n            focusInput(next);\n          } else {\n            currentTarget?.select();\n          }\n          return;\n        }\n        case \"CLEAR_CHAR\": {\n          const { index, reason } = action;\n          if (!value[index]) {\n            return;\n          }\n          const newValue = value.filter((_, i) => i !== index);\n          const currentTarget = collection.at(index)?.element;\n          const previous = currentTarget && collection.from(currentTarget, -1)?.element;\n          (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync)(() => setValue(newValue));\n          if (reason === \"Backspace\") {\n            focusInput(previous);\n          } else if (reason === \"Delete\" || reason === \"Cut\") {\n            focusInput(currentTarget);\n          }\n          return;\n        }\n        case \"CLEAR\": {\n          if (value.length === 0) {\n            return;\n          }\n          if (action.reason === \"Backspace\" || action.reason === \"Delete\") {\n            (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync)(() => setValue([]));\n            focusInput(collection.at(0)?.element);\n          } else {\n            setValue([]);\n          }\n          return;\n        }\n        case \"PASTE\": {\n          const { value: pastedValue } = action;\n          const value2 = sanitizeValue(pastedValue);\n          if (!value2) {\n            return;\n          }\n          (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync)(() => setValue(value2));\n          focusInput(collection.at(value2.length - 1)?.element);\n          return;\n        }\n      }\n    });\n    const validationTypeRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(validation);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      if (!validation) {\n        return;\n      }\n      if (validationTypeRef.current?.type !== validation.type) {\n        validationTypeRef.current = validation;\n        setValue(sanitizeValue(value.join(\"\")));\n      }\n    }, [sanitizeValue, setValue, validation, value]);\n    const hiddenInputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const userActionRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const rootRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const composedRefs = (0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_9__.useComposedRefs)(forwardedRef, rootRef);\n    const firstInput = collection.at(0)?.element;\n    const locateForm = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n      let formElement;\n      if (form) {\n        const associatedElement = (rootRef.current?.ownerDocument ?? document).getElementById(form);\n        if (isFormElement(associatedElement)) {\n          formElement = associatedElement;\n        }\n      } else if (hiddenInputRef.current) {\n        formElement = hiddenInputRef.current.form;\n      } else if (firstInput) {\n        formElement = firstInput.form;\n      }\n      return formElement ?? null;\n    }, [form, firstInput]);\n    const attemptSubmit = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n      const formElement = locateForm();\n      formElement?.requestSubmit();\n    }, [locateForm]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      const form2 = locateForm();\n      if (form2) {\n        const reset = () => dispatch({ type: \"CLEAR\", reason: \"Reset\" });\n        form2.addEventListener(\"reset\", reset);\n        return () => form2.removeEventListener(\"reset\", reset);\n      }\n    }, [dispatch, locateForm]);\n    const currentValue = value.join(\"\");\n    const valueRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(currentValue);\n    const length = collection.size;\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      const previousValue = valueRef.current;\n      valueRef.current = currentValue;\n      if (previousValue === currentValue) {\n        return;\n      }\n      if (autoSubmit && value.every((char) => char !== \"\") && value.length === length) {\n        onAutoSubmit?.(value.join(\"\"));\n        attemptSubmit();\n      }\n    }, [attemptSubmit, autoSubmit, currentValue, length, onAutoSubmit, value]);\n    const isHydrated = (0,_radix_ui_react_use_is_hydrated__WEBPACK_IMPORTED_MODULE_10__.useIsHydrated)();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n      OneTimePasswordFieldContext,\n      {\n        scope: __scopeOneTimePasswordField,\n        value,\n        attemptSubmit,\n        disabled,\n        readOnly,\n        autoComplete,\n        autoFocus,\n        form,\n        name,\n        placeholder,\n        type,\n        hiddenInputRef,\n        userActionRef,\n        dispatch,\n        validationType,\n        orientation,\n        isHydrated,\n        sanitizeValue,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Collection.Provider, { scope: __scopeOneTimePasswordField, state: collectionState, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Collection.Slot, { scope: __scopeOneTimePasswordField, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n          _radix_ui_react_roving_focus__WEBPACK_IMPORTED_MODULE_5__.Root,\n          {\n            asChild: true,\n            ...rovingFocusGroupScope,\n            orientation,\n            dir: direction,\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n              _radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_11__.Root.div,\n              {\n                ...domProps,\n                role: \"group\",\n                ref: composedRefs,\n                onPaste: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_12__.composeEventHandlers)(\n                  onPaste,\n                  (event) => {\n                    event.preventDefault();\n                    const pastedValue = event.clipboardData.getData(\"Text\");\n                    dispatch({ type: \"PASTE\", value: pastedValue });\n                  }\n                ),\n                children\n              }\n            )\n          }\n        ) }) })\n      }\n    );\n  }\n);\nvar OneTimePasswordFieldHiddenInput = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function OneTimePasswordFieldHiddenInput2({ __scopeOneTimePasswordField, ...props }, forwardedRef) {\n  const { value, hiddenInputRef, name } = useOneTimePasswordFieldContext(\n    \"OneTimePasswordFieldHiddenInput\",\n    __scopeOneTimePasswordField\n  );\n  const ref = (0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_9__.useComposedRefs)(hiddenInputRef, forwardedRef);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n    \"input\",\n    {\n      ref,\n      name,\n      value: value.join(\"\").trim(),\n      autoComplete: \"off\",\n      autoFocus: false,\n      autoCapitalize: \"off\",\n      autoCorrect: \"off\",\n      autoSave: \"off\",\n      spellCheck: false,\n      ...props,\n      type: \"hidden\",\n      readOnly: true\n    }\n  );\n});\nvar OneTimePasswordFieldInput = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function OneTimePasswordFieldInput2({\n  __scopeOneTimePasswordField,\n  onInvalidChange,\n  index: indexProp,\n  ...props\n}, forwardedRef) {\n  const {\n    value: _value,\n    defaultValue: _defaultValue,\n    disabled: _disabled,\n    readOnly: _readOnly,\n    autoComplete: _autoComplete,\n    autoFocus: _autoFocus,\n    form: _form,\n    name: _name,\n    placeholder: _placeholder,\n    type: _type,\n    ...domProps\n  } = props;\n  const context = useOneTimePasswordFieldContext(\n    \"OneTimePasswordFieldInput\",\n    __scopeOneTimePasswordField\n  );\n  const { dispatch, userActionRef, validationType, isHydrated } = context;\n  const collection = useCollection(__scopeOneTimePasswordField);\n  const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeOneTimePasswordField);\n  const inputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  const [element, setElement] = react__WEBPACK_IMPORTED_MODULE_0__.useState(null);\n  const index = indexProp ?? (element ? collection.indexOf(element) : -1);\n  const canSetPlaceholder = indexProp != null || isHydrated;\n  let placeholder;\n  if (canSetPlaceholder && context.placeholder && context.value.length === 0) {\n    placeholder = context.placeholder[index];\n  }\n  const composedInputRef = (0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_9__.useComposedRefs)(forwardedRef, inputRef, setElement);\n  const char = context.value[index] ?? \"\";\n  const keyboardActionTimeoutRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    return () => {\n      window.clearTimeout(keyboardActionTimeoutRef.current);\n    };\n  }, []);\n  const totalValue = context.value.join(\"\").trim();\n  const lastSelectableIndex = (0,_radix_ui_number__WEBPACK_IMPORTED_MODULE_13__.clamp)(totalValue.length, [0, collection.size - 1]);\n  const isFocusable = index <= lastSelectableIndex;\n  const validation = validationType in INPUT_VALIDATION_MAP ? INPUT_VALIDATION_MAP[validationType] : void 0;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Collection.ItemSlot, { scope: __scopeOneTimePasswordField, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n    _radix_ui_react_roving_focus__WEBPACK_IMPORTED_MODULE_5__.Item,\n    {\n      ...rovingFocusGroupScope,\n      asChild: true,\n      focusable: !context.disabled && isFocusable,\n      active: index === lastSelectableIndex,\n      children: ({ hasTabStop, isCurrentTabStop }) => {\n        const supportsAutoComplete = hasTabStop ? isCurrentTabStop : index === 0;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n          _radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_11__.Root.input,\n          {\n            ref: composedInputRef,\n            type: context.type,\n            \"aria-label\": `Character ${index + 1} of ${collection.size}`,\n            autoComplete: supportsAutoComplete ? context.autoComplete : \"off\",\n            \"data-1p-ignore\": supportsAutoComplete ? void 0 : \"true\",\n            \"data-lpignore\": supportsAutoComplete ? void 0 : \"true\",\n            \"data-protonpass-ignore\": supportsAutoComplete ? void 0 : \"true\",\n            \"data-bwignore\": supportsAutoComplete ? void 0 : \"true\",\n            inputMode: validation?.inputMode,\n            maxLength: 1,\n            pattern: validation?.pattern,\n            readOnly: context.readOnly,\n            value: char,\n            placeholder,\n            \"data-radix-otp-input\": \"\",\n            \"data-radix-index\": index,\n            ...domProps,\n            onFocus: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_12__.composeEventHandlers)(props.onFocus, (event) => {\n              event.currentTarget.select();\n            }),\n            onCut: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_12__.composeEventHandlers)(props.onCut, (event) => {\n              const currentValue = event.currentTarget.value;\n              if (currentValue !== \"\") {\n                userActionRef.current = {\n                  type: \"cut\"\n                };\n                keyboardActionTimeoutRef.current = window.setTimeout(() => {\n                  userActionRef.current = null;\n                }, 10);\n              }\n            }),\n            onInput: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_12__.composeEventHandlers)(props.onInput, (event) => {\n              const value = event.currentTarget.value;\n              if (value.length > 1) {\n                event.preventDefault();\n                dispatch({ type: \"PASTE\", value });\n              }\n            }),\n            onChange: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_12__.composeEventHandlers)(props.onChange, (event) => {\n              const value = event.target.value;\n              event.preventDefault();\n              const action = userActionRef.current;\n              userActionRef.current = null;\n              if (action) {\n                switch (action.type) {\n                  case \"cut\":\n                    dispatch({ type: \"CLEAR_CHAR\", index, reason: \"Cut\" });\n                    return;\n                  case \"keydown\": {\n                    if (action.key === \"Char\") {\n                      return;\n                    }\n                    const isClearing = action.key === \"Backspace\" && (action.metaKey || action.ctrlKey);\n                    if (action.key === \"Clear\" || isClearing) {\n                      dispatch({ type: \"CLEAR\", reason: \"Backspace\" });\n                    } else {\n                      dispatch({ type: \"CLEAR_CHAR\", index, reason: action.key });\n                    }\n                    return;\n                  }\n                  default:\n                    return;\n                }\n              }\n              if (event.target.validity.valid) {\n                if (value === \"\") {\n                  let reason = \"Backspace\";\n                  if (isInputEvent(event.nativeEvent)) {\n                    const inputType = event.nativeEvent.inputType;\n                    if (inputType === \"deleteContentBackward\") {\n                      reason = \"Backspace\";\n                    } else if (inputType === \"deleteByCut\") {\n                      reason = \"Cut\";\n                    }\n                  }\n                  dispatch({ type: \"CLEAR_CHAR\", index, reason });\n                } else {\n                  dispatch({ type: \"SET_CHAR\", char: value, index, event });\n                }\n              } else {\n                const element2 = event.target;\n                onInvalidChange?.(element2.value);\n                requestAnimationFrame(() => {\n                  if (element2.ownerDocument.activeElement === element2) {\n                    element2.select();\n                  }\n                });\n              }\n            }),\n            onKeyDown: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_12__.composeEventHandlers)(props.onKeyDown, (event) => {\n              switch (event.key) {\n                case \"Clear\":\n                case \"Delete\":\n                case \"Backspace\": {\n                  const currentValue = event.currentTarget.value;\n                  if (currentValue === \"\") {\n                    if (event.key === \"Delete\") return;\n                    const isClearing = event.key === \"Clear\" || event.metaKey || event.ctrlKey;\n                    if (isClearing) {\n                      dispatch({ type: \"CLEAR\", reason: \"Backspace\" });\n                    } else {\n                      const element2 = event.currentTarget;\n                      requestAnimationFrame(() => {\n                        focusInput(collection.from(element2, -1)?.element);\n                      });\n                    }\n                  } else {\n                    userActionRef.current = {\n                      type: \"keydown\",\n                      key: event.key,\n                      metaKey: event.metaKey,\n                      ctrlKey: event.ctrlKey\n                    };\n                    keyboardActionTimeoutRef.current = window.setTimeout(() => {\n                      userActionRef.current = null;\n                    }, 10);\n                  }\n                  return;\n                }\n                case \"Enter\": {\n                  event.preventDefault();\n                  context.attemptSubmit();\n                  return;\n                }\n                case \"ArrowDown\":\n                case \"ArrowUp\": {\n                  if (context.orientation === \"horizontal\") {\n                    event.preventDefault();\n                  }\n                  return;\n                }\n                // TODO: Handle left/right arrow keys in vertical writing mode\n                default: {\n                  if (event.currentTarget.value === event.key) {\n                    const element2 = event.currentTarget;\n                    event.preventDefault();\n                    focusInput(collection.from(element2, 1)?.element);\n                    return;\n                  } else if (\n                    // input already has a value, but...\n                    event.currentTarget.value && // the value is not selected\n                    !(event.currentTarget.selectionStart === 0 && event.currentTarget.selectionEnd != null && event.currentTarget.selectionEnd > 0)\n                  ) {\n                    const attemptedValue = event.key;\n                    if (event.key.length > 1 || event.key === \" \") {\n                      return;\n                    } else {\n                      const nextInput = collection.from(event.currentTarget, 1)?.element;\n                      const lastInput = collection.at(-1)?.element;\n                      if (nextInput !== lastInput && event.currentTarget !== lastInput) {\n                        if (event.currentTarget.selectionStart === 0) {\n                          dispatch({ type: \"SET_CHAR\", char: attemptedValue, index, event });\n                        } else {\n                          dispatch({\n                            type: \"SET_CHAR\",\n                            char: attemptedValue,\n                            index: index + 1,\n                            event\n                          });\n                        }\n                        userActionRef.current = {\n                          type: \"keydown\",\n                          key: \"Char\",\n                          metaKey: event.metaKey,\n                          ctrlKey: event.ctrlKey\n                        };\n                        keyboardActionTimeoutRef.current = window.setTimeout(() => {\n                          userActionRef.current = null;\n                        }, 10);\n                      }\n                    }\n                  }\n                }\n              }\n            }),\n            onPointerDown: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_12__.composeEventHandlers)(props.onPointerDown, (event) => {\n              event.preventDefault();\n              const indexToFocus = Math.min(index, lastSelectableIndex);\n              const element2 = collection.at(indexToFocus)?.element;\n              focusInput(element2);\n            })\n          }\n        );\n      }\n    }\n  ) });\n});\nfunction isFormElement(element) {\n  return element?.tagName === \"FORM\";\n}\nfunction removeWhitespace(value) {\n  return value.replace(/\\s/g, \"\");\n}\nfunction focusInput(element) {\n  if (!element) return;\n  if (element.ownerDocument.activeElement === element) {\n    window.requestAnimationFrame(() => {\n      element.select?.();\n    });\n  } else {\n    element.focus();\n  }\n}\nfunction isInputEvent(event) {\n  return event.type === \"input\";\n}\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJhZGl4LXVpK3JlYWN0LW9uZS10aW1lLXBhc3N3b3JkLWZpZWxkQDAuMS43X0B0eXBlcytyZWFjdC1kb21AMTguMy43X0B0eXBlcytyZWFjdEAxOC4zXzhhZjY4MDM5YTMzOTE3NjdjYTc4ZTRiZjk5ODIyMDM2L25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3Qtb25lLXRpbWUtcGFzc3dvcmQtZmllbGQvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFFQTtBQUN1RDtBQUNRO0FBQ2U7QUFDbkI7QUFDZ0M7QUFDMUI7QUFDVTtBQUNYO0FBQ2pDO0FBQ087QUFDdUI7QUFDSjtBQUNoQjtBQUN5QjtBQUMxQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixFQUFFO0FBQ3BCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixFQUFFO0FBQ3pCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixFQUFFO0FBQzVCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix5REFBeUQsSUFBSSxxRkFBZ0I7QUFDaEcsMENBQTBDLDJFQUFrQjtBQUM1RDtBQUNBLEVBQUUscUZBQTJCO0FBQzdCO0FBQ0EsK0JBQStCLHlGQUEyQjtBQUMxRDtBQUNBLDJCQUEyQiw2Q0FBZ0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHNCQUFzQix1RUFBWTtBQUNsQztBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsOENBQWlCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFB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QUFDTCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2Nhc2FhaS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmFkaXgtdWkrcmVhY3Qtb25lLXRpbWUtcGFzc3dvcmQtZmllbGRAMC4xLjdfQHR5cGVzK3JlYWN0LWRvbUAxOC4zLjdfQHR5cGVzK3JlYWN0QDE4LjNfOGFmNjgwMzlhMzM5MTc2N2NhNzhlNGJmOTk4MjIwMzYvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9yZWFjdC1vbmUtdGltZS1wYXNzd29yZC1maWVsZC9kaXN0L2luZGV4Lm1qcz9mOTRhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG4vLyBzcmMvb25lLXRpbWUtcGFzc3dvcmQtZmllbGQudHN4XG5pbXBvcnQgKiBhcyBQcmltaXRpdmUgZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wcmltaXRpdmVcIjtcbmltcG9ydCB7IHVzZUNvbXBvc2VkUmVmcyB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtY29tcG9zZS1yZWZzXCI7XG5pbXBvcnQgeyB1c2VDb250cm9sbGFibGVTdGF0ZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtdXNlLWNvbnRyb2xsYWJsZS1zdGF0ZVwiO1xuaW1wb3J0IHsgY29tcG9zZUV2ZW50SGFuZGxlcnMgfSBmcm9tIFwiQHJhZGl4LXVpL3ByaW1pdGl2ZVwiO1xuaW1wb3J0IHsgdW5zdGFibGVfY3JlYXRlQ29sbGVjdGlvbiBhcyBjcmVhdGVDb2xsZWN0aW9uIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1jb2xsZWN0aW9uXCI7XG5pbXBvcnQgKiBhcyBSb3ZpbmdGb2N1c0dyb3VwIGZyb20gXCJAcmFkaXgtdWkvcmVhY3Qtcm92aW5nLWZvY3VzXCI7XG5pbXBvcnQgeyBjcmVhdGVSb3ZpbmdGb2N1c0dyb3VwU2NvcGUgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXJvdmluZy1mb2N1c1wiO1xuaW1wb3J0IHsgdXNlSXNIeWRyYXRlZCB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtdXNlLWlzLWh5ZHJhdGVkXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGZsdXNoU3luYyB9IGZyb20gXCJyZWFjdC1kb21cIjtcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHRTY29wZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtY29udGV4dFwiO1xuaW1wb3J0IHsgdXNlRGlyZWN0aW9uIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1kaXJlY3Rpb25cIjtcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSBcIkByYWRpeC11aS9udW1iZXJcIjtcbmltcG9ydCB7IHVzZUVmZmVjdEV2ZW50IH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC11c2UtZWZmZWN0LWV2ZW50XCI7XG5pbXBvcnQgeyBqc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBJTlBVVF9WQUxJREFUSU9OX01BUCA9IHtcbiAgbnVtZXJpYzoge1xuICAgIHR5cGU6IFwibnVtZXJpY1wiLFxuICAgIHJlZ2V4cDogL1teXFxkXS9nLFxuICAgIHBhdHRlcm46IFwiXFxcXGR7MX1cIixcbiAgICBpbnB1dE1vZGU6IFwibnVtZXJpY1wiXG4gIH0sXG4gIGFscGhhOiB7XG4gICAgdHlwZTogXCJhbHBoYVwiLFxuICAgIHJlZ2V4cDogL1teYS16QS1aXS9nLFxuICAgIHBhdHRlcm46IFwiW2EtekEtWl17MX1cIixcbiAgICBpbnB1dE1vZGU6IFwidGV4dFwiXG4gIH0sXG4gIGFscGhhbnVtZXJpYzoge1xuICAgIHR5cGU6IFwiYWxwaGFudW1lcmljXCIsXG4gICAgcmVnZXhwOiAvW15hLXpBLVowLTldL2csXG4gICAgcGF0dGVybjogXCJbYS16QS1aMC05XXsxfVwiLFxuICAgIGlucHV0TW9kZTogXCJ0ZXh0XCJcbiAgfSxcbiAgbm9uZTogbnVsbFxufTtcbnZhciBPTkVfVElNRV9QQVNTV09SRF9GSUVMRF9OQU1FID0gXCJPbmVUaW1lUGFzc3dvcmRGaWVsZFwiO1xudmFyIFtDb2xsZWN0aW9uLCB7IHVzZUNvbGxlY3Rpb24sIGNyZWF0ZUNvbGxlY3Rpb25TY29wZSwgdXNlSW5pdENvbGxlY3Rpb24gfV0gPSBjcmVhdGVDb2xsZWN0aW9uKE9ORV9USU1FX1BBU1NXT1JEX0ZJRUxEX05BTUUpO1xudmFyIFtjcmVhdGVPbmVUaW1lUGFzc3dvcmRGaWVsZENvbnRleHRdID0gY3JlYXRlQ29udGV4dFNjb3BlKE9ORV9USU1FX1BBU1NXT1JEX0ZJRUxEX05BTUUsIFtcbiAgY3JlYXRlQ29sbGVjdGlvblNjb3BlLFxuICBjcmVhdGVSb3ZpbmdGb2N1c0dyb3VwU2NvcGVcbl0pO1xudmFyIHVzZVJvdmluZ0ZvY3VzR3JvdXBTY29wZSA9IGNyZWF0ZVJvdmluZ0ZvY3VzR3JvdXBTY29wZSgpO1xudmFyIFtPbmVUaW1lUGFzc3dvcmRGaWVsZENvbnRleHQsIHVzZU9uZVRpbWVQYXNzd29yZEZpZWxkQ29udGV4dF0gPSBjcmVhdGVPbmVUaW1lUGFzc3dvcmRGaWVsZENvbnRleHQoT05FX1RJTUVfUEFTU1dPUkRfRklFTERfTkFNRSk7XG52YXIgT25lVGltZVBhc3N3b3JkRmllbGQgPSBSZWFjdC5mb3J3YXJkUmVmKFxuICBmdW5jdGlvbiBPbmVUaW1lUGFzc3dvcmRGaWVsZEltcGwoe1xuICAgIF9fc2NvcGVPbmVUaW1lUGFzc3dvcmRGaWVsZCxcbiAgICBkZWZhdWx0VmFsdWUsXG4gICAgdmFsdWU6IHZhbHVlUHJvcCxcbiAgICBvblZhbHVlQ2hhbmdlLFxuICAgIGF1dG9TdWJtaXQgPSBmYWxzZSxcbiAgICBjaGlsZHJlbixcbiAgICBvblBhc3RlLFxuICAgIG9uQXV0b1N1Ym1pdCxcbiAgICBkaXNhYmxlZCA9IGZhbHNlLFxuICAgIHJlYWRPbmx5ID0gZmFsc2UsXG4gICAgYXV0b0NvbXBsZXRlID0gXCJvbmUtdGltZS1jb2RlXCIsXG4gICAgYXV0b0ZvY3VzID0gZmFsc2UsXG4gICAgZm9ybSxcbiAgICBuYW1lLFxuICAgIHBsYWNlaG9sZGVyLFxuICAgIHR5cGUgPSBcInRleHRcIixcbiAgICAvLyBUT0RPOiBDaGFuZ2UgZGVmYXVsdCB0byB2ZXJ0aWNhbCB3aGVuIGlucHV0cyB1c2UgdmVydGljYWwgd3JpdGluZyBtb2RlXG4gICAgb3JpZW50YXRpb24gPSBcImhvcml6b250YWxcIixcbiAgICBkaXIsXG4gICAgdmFsaWRhdGlvblR5cGUgPSBcIm51bWVyaWNcIixcbiAgICBzYW5pdGl6ZVZhbHVlOiBzYW5pdGl6ZVZhbHVlUHJvcCxcbiAgICAuLi5kb21Qcm9wc1xuICB9LCBmb3J3YXJkZWRSZWYpIHtcbiAgICBjb25zdCByb3ZpbmdGb2N1c0dyb3VwU2NvcGUgPSB1c2VSb3ZpbmdGb2N1c0dyb3VwU2NvcGUoX19zY29wZU9uZVRpbWVQYXNzd29yZEZpZWxkKTtcbiAgICBjb25zdCBkaXJlY3Rpb24gPSB1c2VEaXJlY3Rpb24oZGlyKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uU3RhdGUgPSB1c2VJbml0Q29sbGVjdGlvbigpO1xuICAgIGNvbnN0IFtjb2xsZWN0aW9uXSA9IGNvbGxlY3Rpb25TdGF0ZTtcbiAgICBjb25zdCB2YWxpZGF0aW9uID0gSU5QVVRfVkFMSURBVElPTl9NQVBbdmFsaWRhdGlvblR5cGVdID8gSU5QVVRfVkFMSURBVElPTl9NQVBbdmFsaWRhdGlvblR5cGVdIDogbnVsbDtcbiAgICBjb25zdCBzYW5pdGl6ZVZhbHVlID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgICAodmFsdWUyKSA9PiB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlMikpIHtcbiAgICAgICAgICB2YWx1ZTIgPSB2YWx1ZTIubWFwKHJlbW92ZVdoaXRlc3BhY2UpLmpvaW4oXCJcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWUyID0gcmVtb3ZlV2hpdGVzcGFjZSh2YWx1ZTIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWxpZGF0aW9uKSB7XG4gICAgICAgICAgY29uc3QgcmVnZXhwID0gbmV3IFJlZ0V4cCh2YWxpZGF0aW9uLnJlZ2V4cCk7XG4gICAgICAgICAgdmFsdWUyID0gdmFsdWUyLnJlcGxhY2UocmVnZXhwLCBcIlwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChzYW5pdGl6ZVZhbHVlUHJvcCkge1xuICAgICAgICAgIHZhbHVlMiA9IHNhbml0aXplVmFsdWVQcm9wKHZhbHVlMik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlMi5zcGxpdChcIlwiKTtcbiAgICAgIH0sXG4gICAgICBbdmFsaWRhdGlvbiwgc2FuaXRpemVWYWx1ZVByb3BdXG4gICAgKTtcbiAgICBjb25zdCBjb250cm9sbGVkVmFsdWUgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgIHJldHVybiB2YWx1ZVByb3AgIT0gbnVsbCA/IHNhbml0aXplVmFsdWUodmFsdWVQcm9wKSA6IHZvaWQgMDtcbiAgICB9LCBbdmFsdWVQcm9wLCBzYW5pdGl6ZVZhbHVlXSk7XG4gICAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VDb250cm9sbGFibGVTdGF0ZSh7XG4gICAgICBjYWxsZXI6IFwiT25lVGltZVBhc3N3b3JkRmllbGRcIixcbiAgICAgIHByb3A6IGNvbnRyb2xsZWRWYWx1ZSxcbiAgICAgIGRlZmF1bHRQcm9wOiBkZWZhdWx0VmFsdWUgIT0gbnVsbCA/IHNhbml0aXplVmFsdWUoZGVmYXVsdFZhbHVlKSA6IFtdLFxuICAgICAgb25DaGFuZ2U6IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgICAgICAodmFsdWUyKSA9PiBvblZhbHVlQ2hhbmdlPy4odmFsdWUyLmpvaW4oXCJcIikpLFxuICAgICAgICBbb25WYWx1ZUNoYW5nZV1cbiAgICAgIClcbiAgICB9KTtcbiAgICBjb25zdCBkaXNwYXRjaCA9IHVzZUVmZmVjdEV2ZW50KChhY3Rpb24pID0+IHtcbiAgICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcIlNFVF9DSEFSXCI6IHtcbiAgICAgICAgICBjb25zdCB7IGluZGV4LCBjaGFyIH0gPSBhY3Rpb247XG4gICAgICAgICAgY29uc3QgY3VycmVudFRhcmdldCA9IGNvbGxlY3Rpb24uYXQoaW5kZXgpPy5lbGVtZW50O1xuICAgICAgICAgIGlmICh2YWx1ZVtpbmRleF0gPT09IGNoYXIpIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBjdXJyZW50VGFyZ2V0ICYmIGNvbGxlY3Rpb24uZnJvbShjdXJyZW50VGFyZ2V0LCAxKT8uZWxlbWVudDtcbiAgICAgICAgICAgIGZvY3VzSW5wdXQobmV4dCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjaGFyID09PSBcIlwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh2YWxpZGF0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCByZWdleHAgPSBuZXcgUmVnRXhwKHZhbGlkYXRpb24ucmVnZXhwKTtcbiAgICAgICAgICAgIGNvbnN0IGNsZWFuID0gY2hhci5yZXBsYWNlKHJlZ2V4cCwgXCJcIik7XG4gICAgICAgICAgICBpZiAoY2xlYW4gIT09IGNoYXIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID49IGNvbGxlY3Rpb24uc2l6ZSkge1xuICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUyID0gWy4uLnZhbHVlXTtcbiAgICAgICAgICAgIG5ld1ZhbHVlMltpbmRleF0gPSBjaGFyO1xuICAgICAgICAgICAgZmx1c2hTeW5jKCgpID0+IHNldFZhbHVlKG5ld1ZhbHVlMikpO1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IGN1cnJlbnRUYXJnZXQgJiYgY29sbGVjdGlvbi5mcm9tKGN1cnJlbnRUYXJnZXQsIDEpPy5lbGVtZW50O1xuICAgICAgICAgICAgZm9jdXNJbnB1dChuZXh0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBbLi4udmFsdWVdO1xuICAgICAgICAgIG5ld1ZhbHVlW2luZGV4XSA9IGNoYXI7XG4gICAgICAgICAgY29uc3QgbGFzdEVsZW1lbnQgPSBjb2xsZWN0aW9uLmF0KC0xKT8uZWxlbWVudDtcbiAgICAgICAgICBmbHVzaFN5bmMoKCkgPT4gc2V0VmFsdWUobmV3VmFsdWUpKTtcbiAgICAgICAgICBpZiAoY3VycmVudFRhcmdldCAhPT0gbGFzdEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBjdXJyZW50VGFyZ2V0ICYmIGNvbGxlY3Rpb24uZnJvbShjdXJyZW50VGFyZ2V0LCAxKT8uZWxlbWVudDtcbiAgICAgICAgICAgIGZvY3VzSW5wdXQobmV4dCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnRUYXJnZXQ/LnNlbGVjdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIkNMRUFSX0NIQVJcIjoge1xuICAgICAgICAgIGNvbnN0IHsgaW5kZXgsIHJlYXNvbiB9ID0gYWN0aW9uO1xuICAgICAgICAgIGlmICghdmFsdWVbaW5kZXhdKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gdmFsdWUuZmlsdGVyKChfLCBpKSA9PiBpICE9PSBpbmRleCk7XG4gICAgICAgICAgY29uc3QgY3VycmVudFRhcmdldCA9IGNvbGxlY3Rpb24uYXQoaW5kZXgpPy5lbGVtZW50O1xuICAgICAgICAgIGNvbnN0IHByZXZpb3VzID0gY3VycmVudFRhcmdldCAmJiBjb2xsZWN0aW9uLmZyb20oY3VycmVudFRhcmdldCwgLTEpPy5lbGVtZW50O1xuICAgICAgICAgIGZsdXNoU3luYygoKSA9PiBzZXRWYWx1ZShuZXdWYWx1ZSkpO1xuICAgICAgICAgIGlmIChyZWFzb24gPT09IFwiQmFja3NwYWNlXCIpIHtcbiAgICAgICAgICAgIGZvY3VzSW5wdXQocHJldmlvdXMpO1xuICAgICAgICAgIH0gZWxzZSBpZiAocmVhc29uID09PSBcIkRlbGV0ZVwiIHx8IHJlYXNvbiA9PT0gXCJDdXRcIikge1xuICAgICAgICAgICAgZm9jdXNJbnB1dChjdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJDTEVBUlwiOiB7XG4gICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYWN0aW9uLnJlYXNvbiA9PT0gXCJCYWNrc3BhY2VcIiB8fCBhY3Rpb24ucmVhc29uID09PSBcIkRlbGV0ZVwiKSB7XG4gICAgICAgICAgICBmbHVzaFN5bmMoKCkgPT4gc2V0VmFsdWUoW10pKTtcbiAgICAgICAgICAgIGZvY3VzSW5wdXQoY29sbGVjdGlvbi5hdCgwKT8uZWxlbWVudCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFZhbHVlKFtdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJQQVNURVwiOiB7XG4gICAgICAgICAgY29uc3QgeyB2YWx1ZTogcGFzdGVkVmFsdWUgfSA9IGFjdGlvbjtcbiAgICAgICAgICBjb25zdCB2YWx1ZTIgPSBzYW5pdGl6ZVZhbHVlKHBhc3RlZFZhbHVlKTtcbiAgICAgICAgICBpZiAoIXZhbHVlMikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmbHVzaFN5bmMoKCkgPT4gc2V0VmFsdWUodmFsdWUyKSk7XG4gICAgICAgICAgZm9jdXNJbnB1dChjb2xsZWN0aW9uLmF0KHZhbHVlMi5sZW5ndGggLSAxKT8uZWxlbWVudCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgdmFsaWRhdGlvblR5cGVSZWYgPSBSZWFjdC51c2VSZWYodmFsaWRhdGlvbik7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmICghdmFsaWRhdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodmFsaWRhdGlvblR5cGVSZWYuY3VycmVudD8udHlwZSAhPT0gdmFsaWRhdGlvbi50eXBlKSB7XG4gICAgICAgIHZhbGlkYXRpb25UeXBlUmVmLmN1cnJlbnQgPSB2YWxpZGF0aW9uO1xuICAgICAgICBzZXRWYWx1ZShzYW5pdGl6ZVZhbHVlKHZhbHVlLmpvaW4oXCJcIikpKTtcbiAgICAgIH1cbiAgICB9LCBbc2FuaXRpemVWYWx1ZSwgc2V0VmFsdWUsIHZhbGlkYXRpb24sIHZhbHVlXSk7XG4gICAgY29uc3QgaGlkZGVuSW5wdXRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgdXNlckFjdGlvblJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCByb290UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGNvbXBvc2VkUmVmcyA9IHVzZUNvbXBvc2VkUmVmcyhmb3J3YXJkZWRSZWYsIHJvb3RSZWYpO1xuICAgIGNvbnN0IGZpcnN0SW5wdXQgPSBjb2xsZWN0aW9uLmF0KDApPy5lbGVtZW50O1xuICAgIGNvbnN0IGxvY2F0ZUZvcm0gPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICBsZXQgZm9ybUVsZW1lbnQ7XG4gICAgICBpZiAoZm9ybSkge1xuICAgICAgICBjb25zdCBhc3NvY2lhdGVkRWxlbWVudCA9IChyb290UmVmLmN1cnJlbnQ/Lm93bmVyRG9jdW1lbnQgPz8gZG9jdW1lbnQpLmdldEVsZW1lbnRCeUlkKGZvcm0pO1xuICAgICAgICBpZiAoaXNGb3JtRWxlbWVudChhc3NvY2lhdGVkRWxlbWVudCkpIHtcbiAgICAgICAgICBmb3JtRWxlbWVudCA9IGFzc29jaWF0ZWRFbGVtZW50O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGhpZGRlbklucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgZm9ybUVsZW1lbnQgPSBoaWRkZW5JbnB1dFJlZi5jdXJyZW50LmZvcm07XG4gICAgICB9IGVsc2UgaWYgKGZpcnN0SW5wdXQpIHtcbiAgICAgICAgZm9ybUVsZW1lbnQgPSBmaXJzdElucHV0LmZvcm07XG4gICAgICB9XG4gICAgICByZXR1cm4gZm9ybUVsZW1lbnQgPz8gbnVsbDtcbiAgICB9LCBbZm9ybSwgZmlyc3RJbnB1dF0pO1xuICAgIGNvbnN0IGF0dGVtcHRTdWJtaXQgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICBjb25zdCBmb3JtRWxlbWVudCA9IGxvY2F0ZUZvcm0oKTtcbiAgICAgIGZvcm1FbGVtZW50Py5yZXF1ZXN0U3VibWl0KCk7XG4gICAgfSwgW2xvY2F0ZUZvcm1dKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgY29uc3QgZm9ybTIgPSBsb2NhdGVGb3JtKCk7XG4gICAgICBpZiAoZm9ybTIpIHtcbiAgICAgICAgY29uc3QgcmVzZXQgPSAoKSA9PiBkaXNwYXRjaCh7IHR5cGU6IFwiQ0xFQVJcIiwgcmVhc29uOiBcIlJlc2V0XCIgfSk7XG4gICAgICAgIGZvcm0yLmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNldFwiLCByZXNldCk7XG4gICAgICAgIHJldHVybiAoKSA9PiBmb3JtMi5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzZXRcIiwgcmVzZXQpO1xuICAgICAgfVxuICAgIH0sIFtkaXNwYXRjaCwgbG9jYXRlRm9ybV0pO1xuICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IHZhbHVlLmpvaW4oXCJcIik7XG4gICAgY29uc3QgdmFsdWVSZWYgPSBSZWFjdC51c2VSZWYoY3VycmVudFZhbHVlKTtcbiAgICBjb25zdCBsZW5ndGggPSBjb2xsZWN0aW9uLnNpemU7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IHByZXZpb3VzVmFsdWUgPSB2YWx1ZVJlZi5jdXJyZW50O1xuICAgICAgdmFsdWVSZWYuY3VycmVudCA9IGN1cnJlbnRWYWx1ZTtcbiAgICAgIGlmIChwcmV2aW91c1ZhbHVlID09PSBjdXJyZW50VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGF1dG9TdWJtaXQgJiYgdmFsdWUuZXZlcnkoKGNoYXIpID0+IGNoYXIgIT09IFwiXCIpICYmIHZhbHVlLmxlbmd0aCA9PT0gbGVuZ3RoKSB7XG4gICAgICAgIG9uQXV0b1N1Ym1pdD8uKHZhbHVlLmpvaW4oXCJcIikpO1xuICAgICAgICBhdHRlbXB0U3VibWl0KCk7XG4gICAgICB9XG4gICAgfSwgW2F0dGVtcHRTdWJtaXQsIGF1dG9TdWJtaXQsIGN1cnJlbnRWYWx1ZSwgbGVuZ3RoLCBvbkF1dG9TdWJtaXQsIHZhbHVlXSk7XG4gICAgY29uc3QgaXNIeWRyYXRlZCA9IHVzZUlzSHlkcmF0ZWQoKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIE9uZVRpbWVQYXNzd29yZEZpZWxkQ29udGV4dCxcbiAgICAgIHtcbiAgICAgICAgc2NvcGU6IF9fc2NvcGVPbmVUaW1lUGFzc3dvcmRGaWVsZCxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGF0dGVtcHRTdWJtaXQsXG4gICAgICAgIGRpc2FibGVkLFxuICAgICAgICByZWFkT25seSxcbiAgICAgICAgYXV0b0NvbXBsZXRlLFxuICAgICAgICBhdXRvRm9jdXMsXG4gICAgICAgIGZvcm0sXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHBsYWNlaG9sZGVyLFxuICAgICAgICB0eXBlLFxuICAgICAgICBoaWRkZW5JbnB1dFJlZixcbiAgICAgICAgdXNlckFjdGlvblJlZixcbiAgICAgICAgZGlzcGF0Y2gsXG4gICAgICAgIHZhbGlkYXRpb25UeXBlLFxuICAgICAgICBvcmllbnRhdGlvbixcbiAgICAgICAgaXNIeWRyYXRlZCxcbiAgICAgICAgc2FuaXRpemVWYWx1ZSxcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQ29sbGVjdGlvbi5Qcm92aWRlciwgeyBzY29wZTogX19zY29wZU9uZVRpbWVQYXNzd29yZEZpZWxkLCBzdGF0ZTogY29sbGVjdGlvblN0YXRlLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChDb2xsZWN0aW9uLlNsb3QsIHsgc2NvcGU6IF9fc2NvcGVPbmVUaW1lUGFzc3dvcmRGaWVsZCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgUm92aW5nRm9jdXNHcm91cC5Sb290LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGFzQ2hpbGQ6IHRydWUsXG4gICAgICAgICAgICAuLi5yb3ZpbmdGb2N1c0dyb3VwU2NvcGUsXG4gICAgICAgICAgICBvcmllbnRhdGlvbixcbiAgICAgICAgICAgIGRpcjogZGlyZWN0aW9uLFxuICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgICAgIFByaW1pdGl2ZS5Sb290LmRpdixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC4uLmRvbVByb3BzLFxuICAgICAgICAgICAgICAgIHJvbGU6IFwiZ3JvdXBcIixcbiAgICAgICAgICAgICAgICByZWY6IGNvbXBvc2VkUmVmcyxcbiAgICAgICAgICAgICAgICBvblBhc3RlOiBjb21wb3NlRXZlbnRIYW5kbGVycyhcbiAgICAgICAgICAgICAgICAgIG9uUGFzdGUsXG4gICAgICAgICAgICAgICAgICAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFzdGVkVmFsdWUgPSBldmVudC5jbGlwYm9hcmREYXRhLmdldERhdGEoXCJUZXh0XCIpO1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IFwiUEFTVEVcIiwgdmFsdWU6IHBhc3RlZFZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgKSB9KSB9KVxuICAgICAgfVxuICAgICk7XG4gIH1cbik7XG52YXIgT25lVGltZVBhc3N3b3JkRmllbGRIaWRkZW5JbnB1dCA9IFJlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gT25lVGltZVBhc3N3b3JkRmllbGRIaWRkZW5JbnB1dDIoeyBfX3Njb3BlT25lVGltZVBhc3N3b3JkRmllbGQsIC4uLnByb3BzIH0sIGZvcndhcmRlZFJlZikge1xuICBjb25zdCB7IHZhbHVlLCBoaWRkZW5JbnB1dFJlZiwgbmFtZSB9ID0gdXNlT25lVGltZVBhc3N3b3JkRmllbGRDb250ZXh0KFxuICAgIFwiT25lVGltZVBhc3N3b3JkRmllbGRIaWRkZW5JbnB1dFwiLFxuICAgIF9fc2NvcGVPbmVUaW1lUGFzc3dvcmRGaWVsZFxuICApO1xuICBjb25zdCByZWYgPSB1c2VDb21wb3NlZFJlZnMoaGlkZGVuSW5wdXRSZWYsIGZvcndhcmRlZFJlZik7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwiaW5wdXRcIixcbiAgICB7XG4gICAgICByZWYsXG4gICAgICBuYW1lLFxuICAgICAgdmFsdWU6IHZhbHVlLmpvaW4oXCJcIikudHJpbSgpLFxuICAgICAgYXV0b0NvbXBsZXRlOiBcIm9mZlwiLFxuICAgICAgYXV0b0ZvY3VzOiBmYWxzZSxcbiAgICAgIGF1dG9DYXBpdGFsaXplOiBcIm9mZlwiLFxuICAgICAgYXV0b0NvcnJlY3Q6IFwib2ZmXCIsXG4gICAgICBhdXRvU2F2ZTogXCJvZmZcIixcbiAgICAgIHNwZWxsQ2hlY2s6IGZhbHNlLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICB0eXBlOiBcImhpZGRlblwiLFxuICAgICAgcmVhZE9ubHk6IHRydWVcbiAgICB9XG4gICk7XG59KTtcbnZhciBPbmVUaW1lUGFzc3dvcmRGaWVsZElucHV0ID0gUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBPbmVUaW1lUGFzc3dvcmRGaWVsZElucHV0Mih7XG4gIF9fc2NvcGVPbmVUaW1lUGFzc3dvcmRGaWVsZCxcbiAgb25JbnZhbGlkQ2hhbmdlLFxuICBpbmRleDogaW5kZXhQcm9wLFxuICAuLi5wcm9wc1xufSwgZm9yd2FyZGVkUmVmKSB7XG4gIGNvbnN0IHtcbiAgICB2YWx1ZTogX3ZhbHVlLFxuICAgIGRlZmF1bHRWYWx1ZTogX2RlZmF1bHRWYWx1ZSxcbiAgICBkaXNhYmxlZDogX2Rpc2FibGVkLFxuICAgIHJlYWRPbmx5OiBfcmVhZE9ubHksXG4gICAgYXV0b0NvbXBsZXRlOiBfYXV0b0NvbXBsZXRlLFxuICAgIGF1dG9Gb2N1czogX2F1dG9Gb2N1cyxcbiAgICBmb3JtOiBfZm9ybSxcbiAgICBuYW1lOiBfbmFtZSxcbiAgICBwbGFjZWhvbGRlcjogX3BsYWNlaG9sZGVyLFxuICAgIHR5cGU6IF90eXBlLFxuICAgIC4uLmRvbVByb3BzXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgY29udGV4dCA9IHVzZU9uZVRpbWVQYXNzd29yZEZpZWxkQ29udGV4dChcbiAgICBcIk9uZVRpbWVQYXNzd29yZEZpZWxkSW5wdXRcIixcbiAgICBfX3Njb3BlT25lVGltZVBhc3N3b3JkRmllbGRcbiAgKTtcbiAgY29uc3QgeyBkaXNwYXRjaCwgdXNlckFjdGlvblJlZiwgdmFsaWRhdGlvblR5cGUsIGlzSHlkcmF0ZWQgfSA9IGNvbnRleHQ7XG4gIGNvbnN0IGNvbGxlY3Rpb24gPSB1c2VDb2xsZWN0aW9uKF9fc2NvcGVPbmVUaW1lUGFzc3dvcmRGaWVsZCk7XG4gIGNvbnN0IHJvdmluZ0ZvY3VzR3JvdXBTY29wZSA9IHVzZVJvdmluZ0ZvY3VzR3JvdXBTY29wZShfX3Njb3BlT25lVGltZVBhc3N3b3JkRmllbGQpO1xuICBjb25zdCBpbnB1dFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3QgW2VsZW1lbnQsIHNldEVsZW1lbnRdID0gUmVhY3QudXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IGluZGV4ID0gaW5kZXhQcm9wID8/IChlbGVtZW50ID8gY29sbGVjdGlvbi5pbmRleE9mKGVsZW1lbnQpIDogLTEpO1xuICBjb25zdCBjYW5TZXRQbGFjZWhvbGRlciA9IGluZGV4UHJvcCAhPSBudWxsIHx8IGlzSHlkcmF0ZWQ7XG4gIGxldCBwbGFjZWhvbGRlcjtcbiAgaWYgKGNhblNldFBsYWNlaG9sZGVyICYmIGNvbnRleHQucGxhY2Vob2xkZXIgJiYgY29udGV4dC52YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICBwbGFjZWhvbGRlciA9IGNvbnRleHQucGxhY2Vob2xkZXJbaW5kZXhdO1xuICB9XG4gIGNvbnN0IGNvbXBvc2VkSW5wdXRSZWYgPSB1c2VDb21wb3NlZFJlZnMoZm9yd2FyZGVkUmVmLCBpbnB1dFJlZiwgc2V0RWxlbWVudCk7XG4gIGNvbnN0IGNoYXIgPSBjb250ZXh0LnZhbHVlW2luZGV4XSA/PyBcIlwiO1xuICBjb25zdCBrZXlib2FyZEFjdGlvblRpbWVvdXRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoa2V5Ym9hcmRBY3Rpb25UaW1lb3V0UmVmLmN1cnJlbnQpO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgY29uc3QgdG90YWxWYWx1ZSA9IGNvbnRleHQudmFsdWUuam9pbihcIlwiKS50cmltKCk7XG4gIGNvbnN0IGxhc3RTZWxlY3RhYmxlSW5kZXggPSBjbGFtcCh0b3RhbFZhbHVlLmxlbmd0aCwgWzAsIGNvbGxlY3Rpb24uc2l6ZSAtIDFdKTtcbiAgY29uc3QgaXNGb2N1c2FibGUgPSBpbmRleCA8PSBsYXN0U2VsZWN0YWJsZUluZGV4O1xuICBjb25zdCB2YWxpZGF0aW9uID0gdmFsaWRhdGlvblR5cGUgaW4gSU5QVVRfVkFMSURBVElPTl9NQVAgPyBJTlBVVF9WQUxJREFUSU9OX01BUFt2YWxpZGF0aW9uVHlwZV0gOiB2b2lkIDA7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KENvbGxlY3Rpb24uSXRlbVNsb3QsIHsgc2NvcGU6IF9fc2NvcGVPbmVUaW1lUGFzc3dvcmRGaWVsZCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgUm92aW5nRm9jdXNHcm91cC5JdGVtLFxuICAgIHtcbiAgICAgIC4uLnJvdmluZ0ZvY3VzR3JvdXBTY29wZSxcbiAgICAgIGFzQ2hpbGQ6IHRydWUsXG4gICAgICBmb2N1c2FibGU6ICFjb250ZXh0LmRpc2FibGVkICYmIGlzRm9jdXNhYmxlLFxuICAgICAgYWN0aXZlOiBpbmRleCA9PT0gbGFzdFNlbGVjdGFibGVJbmRleCxcbiAgICAgIGNoaWxkcmVuOiAoeyBoYXNUYWJTdG9wLCBpc0N1cnJlbnRUYWJTdG9wIH0pID0+IHtcbiAgICAgICAgY29uc3Qgc3VwcG9ydHNBdXRvQ29tcGxldGUgPSBoYXNUYWJTdG9wID8gaXNDdXJyZW50VGFiU3RvcCA6IGluZGV4ID09PSAwO1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBQcmltaXRpdmUuUm9vdC5pbnB1dCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZWY6IGNvbXBvc2VkSW5wdXRSZWYsXG4gICAgICAgICAgICB0eXBlOiBjb250ZXh0LnR5cGUsXG4gICAgICAgICAgICBcImFyaWEtbGFiZWxcIjogYENoYXJhY3RlciAke2luZGV4ICsgMX0gb2YgJHtjb2xsZWN0aW9uLnNpemV9YCxcbiAgICAgICAgICAgIGF1dG9Db21wbGV0ZTogc3VwcG9ydHNBdXRvQ29tcGxldGUgPyBjb250ZXh0LmF1dG9Db21wbGV0ZSA6IFwib2ZmXCIsXG4gICAgICAgICAgICBcImRhdGEtMXAtaWdub3JlXCI6IHN1cHBvcnRzQXV0b0NvbXBsZXRlID8gdm9pZCAwIDogXCJ0cnVlXCIsXG4gICAgICAgICAgICBcImRhdGEtbHBpZ25vcmVcIjogc3VwcG9ydHNBdXRvQ29tcGxldGUgPyB2b2lkIDAgOiBcInRydWVcIixcbiAgICAgICAgICAgIFwiZGF0YS1wcm90b25wYXNzLWlnbm9yZVwiOiBzdXBwb3J0c0F1dG9Db21wbGV0ZSA/IHZvaWQgMCA6IFwidHJ1ZVwiLFxuICAgICAgICAgICAgXCJkYXRhLWJ3aWdub3JlXCI6IHN1cHBvcnRzQXV0b0NvbXBsZXRlID8gdm9pZCAwIDogXCJ0cnVlXCIsXG4gICAgICAgICAgICBpbnB1dE1vZGU6IHZhbGlkYXRpb24/LmlucHV0TW9kZSxcbiAgICAgICAgICAgIG1heExlbmd0aDogMSxcbiAgICAgICAgICAgIHBhdHRlcm46IHZhbGlkYXRpb24/LnBhdHRlcm4sXG4gICAgICAgICAgICByZWFkT25seTogY29udGV4dC5yZWFkT25seSxcbiAgICAgICAgICAgIHZhbHVlOiBjaGFyLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXIsXG4gICAgICAgICAgICBcImRhdGEtcmFkaXgtb3RwLWlucHV0XCI6IFwiXCIsXG4gICAgICAgICAgICBcImRhdGEtcmFkaXgtaW5kZXhcIjogaW5kZXgsXG4gICAgICAgICAgICAuLi5kb21Qcm9wcyxcbiAgICAgICAgICAgIG9uRm9jdXM6IGNvbXBvc2VFdmVudEhhbmRsZXJzKHByb3BzLm9uRm9jdXMsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LnNlbGVjdCgpO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBvbkN1dDogY29tcG9zZUV2ZW50SGFuZGxlcnMocHJvcHMub25DdXQsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICBpZiAoY3VycmVudFZhbHVlICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgdXNlckFjdGlvblJlZi5jdXJyZW50ID0ge1xuICAgICAgICAgICAgICAgICAgdHlwZTogXCJjdXRcIlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAga2V5Ym9hcmRBY3Rpb25UaW1lb3V0UmVmLmN1cnJlbnQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICB1c2VyQWN0aW9uUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBvbklucHV0OiBjb21wb3NlRXZlbnRIYW5kbGVycyhwcm9wcy5vbklucHV0LCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcIlBBU1RFXCIsIHZhbHVlIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBjb21wb3NlRXZlbnRIYW5kbGVycyhwcm9wcy5vbkNoYW5nZSwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBjb25zdCBhY3Rpb24gPSB1c2VyQWN0aW9uUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICAgIHVzZXJBY3Rpb25SZWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICAgIGlmIChhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiY3V0XCI6XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJDTEVBUl9DSEFSXCIsIGluZGV4LCByZWFzb246IFwiQ3V0XCIgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJrZXlkb3duXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbi5rZXkgPT09IFwiQ2hhclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQ2xlYXJpbmcgPSBhY3Rpb24ua2V5ID09PSBcIkJhY2tzcGFjZVwiICYmIChhY3Rpb24ubWV0YUtleSB8fCBhY3Rpb24uY3RybEtleSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb24ua2V5ID09PSBcIkNsZWFyXCIgfHwgaXNDbGVhcmluZykge1xuICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJDTEVBUlwiLCByZWFzb246IFwiQmFja3NwYWNlXCIgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcIkNMRUFSX0NIQVJcIiwgaW5kZXgsIHJlYXNvbjogYWN0aW9uLmtleSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgIGxldCByZWFzb24gPSBcIkJhY2tzcGFjZVwiO1xuICAgICAgICAgICAgICAgICAgaWYgKGlzSW5wdXRFdmVudChldmVudC5uYXRpdmVFdmVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRUeXBlID0gZXZlbnQubmF0aXZlRXZlbnQuaW5wdXRUeXBlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXRUeXBlID09PSBcImRlbGV0ZUNvbnRlbnRCYWNrd2FyZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmVhc29uID0gXCJCYWNrc3BhY2VcIjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dFR5cGUgPT09IFwiZGVsZXRlQnlDdXRcIikge1xuICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbiA9IFwiQ3V0XCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJDTEVBUl9DSEFSXCIsIGluZGV4LCByZWFzb24gfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJTRVRfQ0hBUlwiLCBjaGFyOiB2YWx1ZSwgaW5kZXgsIGV2ZW50IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50MiA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgICAgICBvbkludmFsaWRDaGFuZ2U/LihlbGVtZW50Mi52YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50Mi5vd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGVsZW1lbnQyKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQyLnNlbGVjdCgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG9uS2V5RG93bjogY29tcG9zZUV2ZW50SGFuZGxlcnMocHJvcHMub25LZXlEb3duLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgc3dpdGNoIChldmVudC5rZXkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiQ2xlYXJcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiRGVsZXRlXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIkJhY2tzcGFjZVwiOiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBcIkRlbGV0ZVwiKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQ2xlYXJpbmcgPSBldmVudC5rZXkgPT09IFwiQ2xlYXJcIiB8fCBldmVudC5tZXRhS2V5IHx8IGV2ZW50LmN0cmxLZXk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0NsZWFyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcIkNMRUFSXCIsIHJlYXNvbjogXCJCYWNrc3BhY2VcIiB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50MiA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzSW5wdXQoY29sbGVjdGlvbi5mcm9tKGVsZW1lbnQyLCAtMSk/LmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1c2VyQWN0aW9uUmVmLmN1cnJlbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJrZXlkb3duXCIsXG4gICAgICAgICAgICAgICAgICAgICAga2V5OiBldmVudC5rZXksXG4gICAgICAgICAgICAgICAgICAgICAgbWV0YUtleTogZXZlbnQubWV0YUtleSxcbiAgICAgICAgICAgICAgICAgICAgICBjdHJsS2V5OiBldmVudC5jdHJsS2V5XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGtleWJvYXJkQWN0aW9uVGltZW91dFJlZi5jdXJyZW50ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHVzZXJBY3Rpb25SZWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcIkVudGVyXCI6IHtcbiAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICBjb250ZXh0LmF0dGVtcHRTdWJtaXQoKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcIkFycm93RG93blwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJBcnJvd1VwXCI6IHtcbiAgICAgICAgICAgICAgICAgIGlmIChjb250ZXh0Lm9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIikge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBIYW5kbGUgbGVmdC9yaWdodCBhcnJvdyBrZXlzIGluIHZlcnRpY2FsIHdyaXRpbmcgbW9kZVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlID09PSBldmVudC5rZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudDIgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICBmb2N1c0lucHV0KGNvbGxlY3Rpb24uZnJvbShlbGVtZW50MiwgMSk/LmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAvLyBpbnB1dCBhbHJlYWR5IGhhcyBhIHZhbHVlLCBidXQuLi5cbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSAmJiAvLyB0aGUgdmFsdWUgaXMgbm90IHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICAgICEoZXZlbnQuY3VycmVudFRhcmdldC5zZWxlY3Rpb25TdGFydCA9PT0gMCAmJiBldmVudC5jdXJyZW50VGFyZ2V0LnNlbGVjdGlvbkVuZCAhPSBudWxsICYmIGV2ZW50LmN1cnJlbnRUYXJnZXQuc2VsZWN0aW9uRW5kID4gMClcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRlbXB0ZWRWYWx1ZSA9IGV2ZW50LmtleTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmtleS5sZW5ndGggPiAxIHx8IGV2ZW50LmtleSA9PT0gXCIgXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dElucHV0ID0gY29sbGVjdGlvbi5mcm9tKGV2ZW50LmN1cnJlbnRUYXJnZXQsIDEpPy5lbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RJbnB1dCA9IGNvbGxlY3Rpb24uYXQoLTEpPy5lbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0SW5wdXQgIT09IGxhc3RJbnB1dCAmJiBldmVudC5jdXJyZW50VGFyZ2V0ICE9PSBsYXN0SW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LnNlbGVjdGlvblN0YXJ0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJTRVRfQ0hBUlwiLCBjaGFyOiBhdHRlbXB0ZWRWYWx1ZSwgaW5kZXgsIGV2ZW50IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiU0VUX0NIQVJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyOiBhdHRlbXB0ZWRWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogaW5kZXggKyAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlckFjdGlvblJlZi5jdXJyZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImtleWRvd25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBcIkNoYXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0YUtleTogZXZlbnQubWV0YUtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3RybEtleTogZXZlbnQuY3RybEtleVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkQWN0aW9uVGltZW91dFJlZi5jdXJyZW50ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyQWN0aW9uUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBvblBvaW50ZXJEb3duOiBjb21wb3NlRXZlbnRIYW5kbGVycyhwcm9wcy5vblBvaW50ZXJEb3duLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgY29uc3QgaW5kZXhUb0ZvY3VzID0gTWF0aC5taW4oaW5kZXgsIGxhc3RTZWxlY3RhYmxlSW5kZXgpO1xuICAgICAgICAgICAgICBjb25zdCBlbGVtZW50MiA9IGNvbGxlY3Rpb24uYXQoaW5kZXhUb0ZvY3VzKT8uZWxlbWVudDtcbiAgICAgICAgICAgICAgZm9jdXNJbnB1dChlbGVtZW50Mik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICkgfSk7XG59KTtcbmZ1bmN0aW9uIGlzRm9ybUVsZW1lbnQoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudD8udGFnTmFtZSA9PT0gXCJGT1JNXCI7XG59XG5mdW5jdGlvbiByZW1vdmVXaGl0ZXNwYWNlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZS5yZXBsYWNlKC9cXHMvZywgXCJcIik7XG59XG5mdW5jdGlvbiBmb2N1c0lucHV0KGVsZW1lbnQpIHtcbiAgaWYgKCFlbGVtZW50KSByZXR1cm47XG4gIGlmIChlbGVtZW50Lm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZWxlbWVudCkge1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgZWxlbWVudC5zZWxlY3Q/LigpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGVsZW1lbnQuZm9jdXMoKTtcbiAgfVxufVxuZnVuY3Rpb24gaXNJbnB1dEV2ZW50KGV2ZW50KSB7XG4gIHJldHVybiBldmVudC50eXBlID09PSBcImlucHV0XCI7XG59XG5leHBvcnQge1xuICBPbmVUaW1lUGFzc3dvcmRGaWVsZEhpZGRlbklucHV0IGFzIEhpZGRlbklucHV0LFxuICBPbmVUaW1lUGFzc3dvcmRGaWVsZElucHV0IGFzIElucHV0LFxuICBPbmVUaW1lUGFzc3dvcmRGaWVsZCxcbiAgT25lVGltZVBhc3N3b3JkRmllbGRIaWRkZW5JbnB1dCxcbiAgT25lVGltZVBhc3N3b3JkRmllbGRJbnB1dCxcbiAgT25lVGltZVBhc3N3b3JkRmllbGQgYXMgUm9vdFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@radix-ui+react-one-time-password-field@0.1.7_@types+react-dom@18.3.7_@types+react@18.3_8af68039a3391767ca78e4bf99822036/node_modules/@radix-ui/react-one-time-password-field/dist/index.mjs\n");

/***/ })

};
;